{"version":3,"sources":["store-manager/actions/ProductActions.js","config.js","store-manager/actions.js","components/Header.js","store-manager/actions/AppointmentActions.js","utils.js","components/ModalAddAppointment.js","components/Services.js","components/Footer.js","components/Homepage.js","components/Login.js","store-manager/actions/UserActions.js","components/admin/FormUpdateUser.js","components/admin/User.js","components/admin/FormUsers.js","components/admin/Users.js","components/admin/FormServices.js","components/admin/FormUpdateService.js","components/admin/Service.js","components/admin/Services.js","components/ModalInfoAppointment.js","components/admin/ModalEditAppointment.js","components/admin/Appointments.js","components/admin/Sidebar.js","components/admin/charts/TopServices.js","components/admin/charts/TopClients.js","components/admin/charts/AppointmentsByMonth.js","components/admin/charts/SalesByMonth.js","components/admin/Dashboard.js","components/admin/index.js","components/MyAppointments.js","components/PrivateRoute.js","store-manager/helper.js","serviceWorker.js","store-manager/reducers/UserReducer.js","store-manager/reducers/ProductReducer.js","store-manager/reducers/AppointmentReducer.js","store-manager/reducers.js","index.js","components/App.js"],"names":["apiURL","fetchProducts","dispatch","a","url","axios","get","then","response","type","payload","products","data","catch","error","toast","Object","values","console","log","setLogin","token","Header","state","color","setColor","setState","onLogout","props","logout","history","push","this","current_user","barber","is_logged","config","Nav","className","to","alt","src","logo","name","Button","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","staticURL","DropdownButton","alignRight","title","last_name","variant","role","Dropdown","Divider","Item","eventKey","onClick","Component","connect","general","withRouter","toogleModal","show","product","addProduct","updateAppointment","formData","put","headers","appointment","getUserInfoFromJWT","jwt_data","base64","split","replace","jsonPayload","decodeURIComponent","atob","map","c","charCodeAt","toString","slice","join","JSON","parse","parseJwt","access","first_name","genRand","min","max","decimalPlaces","rand","Math","random","power","pow","floor","numberWithCommas","x","registerLocale","es","setDefaultLocale","ModalAddAppointment","onChangeDate","date","time_hours","getHours","Error","start_date","is_valid_date","setStep","step","onClickMainBtn","max_steps","form","formRef","current","checkValidity","FormData","append","getTime","stringify","reduce","total","price","createAppointment","initial_state","form_validated","addStep","backStep","React","createRef","show_modal","main_product","Modal","onHide","dialogClassName","aria-labelledby","closeButton","style","left","Body","count","value","edit","size","color1","displayType","thousandSeparator","prefix","duration","description","trim","findIndex","item","Form","ref","noValidate","validated","onSubmit","handleSubmit","Group","controlId","Label","locale","selected","onChange","showTimeSelect","timeFormat","timeIntervals","timeCaption","dateFormat","minDate","Date","minTime","setHours","setMinutes","maxTime","Row","as","Col","Control","required","length","key","removeProduct","Footer","disabled","appointmentReducer","callback","post","success","Services","services","Container","service","md","lg","sm","xs","Card","Img","width","height","photos","photo","Title","productReducer","network","google","zoom","initialCenter","lat","lng","href","GoogleApiWrapper","apiKey","Homepage","Login","username","password","handleChange","event","field","new_state","target","e","preventDefault","fetch","method","body","res","json","localStorage","setItem","login","err","backgroundColor","backgroundImage","placeholder","Text","FormUpdateUser","user","email","onSubmite","updateUser","handleChangeModal","defaultValue","User","handleDelete","window","confirm","is_active","deleteUser","Fragment","bg","FormUsers","createUser","Users","fetchUsers","users","border","Table","responsive","striped","hover","colSpan","userReducer","results","FormServices","status","files","handleSelectPhotos","createProduct","toggleModal","handleDeleteSelect","file","filter","multiple","URL","createObjectURL","fontSize","cursor","FormUpdateService","extra","handleDeletePhoto","updateProduct","Service","deleted","deleteProduct","delete","position","ModalInfoAppointment","rating","telephone","moment","format","end_date","notes","final_price","toISOString","estimated_price","Appointments","search_value","seleted_appointment","show_modal_edit","showModal","hideModal","showModalEdit","hideModalEdit","fetchAppointments","appointments","ModalEditAppointment","fromNow","startAppointment","denyAppointment","Sidebar","TopServices","getData","dataSource","argumentField","valueField","ignoreEmptyPoints","visible","precision","nameField","text","verticalAlignment","horizontalAlignment","enabled","customizeTooltip","pointInfo","argumentText","valueText","TopClients","AppointmentsByMonth","new_data","index","element","month","getUTCMonth","i","month_index","subtitle","customizeText","originalValue","margin","Dashboard","charts","SalesByMonth","chart","match","path","MyAppointments","onChangeSearch","fetchMyAppointments","my_appointments","filtered_list","jsonstr","toLocaleLowerCase","search","toLowerCase","includes","bordered","PrivateRoute","component","roles","rest","render","current_store","store","getState","indexOf","Axios","interceptors","request","use","getItem","undefined","Authorization","Promise","reject","removeItem","location","Boolean","hostname","initialState","action","newindex","newProducts","splice","reducers","combineReducers","createStore","composeWithDevTools","applyMiddleware","thunkMiddleware","next","photos_save","extras","extras_save","url_","ReactDOM","Admin","POSITION","BOTTOM_RIGHT","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.332ba717.chunk.js","sourcesContent":["import axios from 'axios'\r\nimport { getConfig } from '../../config'\r\nimport { toast } from 'react-toastify';\r\nexport const FETCH_PRODUCTS = 'FETCH_PRODUCTS'\r\nexport const CREATE_PRODUCT = 'CREATE_PRODUCT'\r\nexport const UPDATE_PRODUCT = 'UPDATE_PRODUCT'\r\nexport const DELETE_PRODUCT = 'DELETE_PRODUCT'\r\nexport const DELETE_PHOTO = 'DELETE_PHOTO'\r\nlet config = getConfig()\r\nlet apiURL = config.apiURL\r\n\r\nexport const fetchProducts = () => async (dispatch) => {\r\n    \r\n    let url = `${apiURL}/api/v1/product/list/`\r\n\r\n    await axios.get(url)\r\n        .then(response => {\r\n            dispatch({\r\n                type: FETCH_PRODUCTS,\r\n                payload: {\r\n                    products: response.data\r\n                }\r\n            })\r\n        })\r\n        .catch(error => {\r\n            try {\r\n                toast.error(`${Object.values(error.response.data)[0]}`)\r\n            } catch (error) {\r\n                console.log(\"e\", error);\r\n            }\r\n        })\r\n}\r\n\r\n\r\n\r\n\r\nexport const createProduct = (formData, toggleModal, files) => async (dispatch) => {\r\n\r\n    let url = `${apiURL}/api/v1/product/`\r\n\r\n    await axios.post(url, formData, { headers: { 'content-type': 'multipart/form-data' } })\r\n        .then(response => {\r\n            dispatch({\r\n                type: CREATE_PRODUCT,\r\n                payload: {\r\n                    product: response.data,\r\n                    photos: files\r\n                }\r\n            })\r\n            toast.success(\"Servicio creado correctamente\");\r\n            toggleModal()\r\n        })\r\n        .catch(error => {\r\n            if (error.response && error.response.data && Object.values(error.response.data).length > 0){\r\n                toast.error(`${Object.values(error.response.data)[0]}`)\r\n            }else{\r\n                toast.error(\"Ocurrió un error al crear el servicio\")\r\n            }\r\n            \r\n        })\r\n}\r\n\r\n\r\n\r\nexport const updateProduct = (formData, id, extra, handleChangeModal) => async (dispatch) => {\r\n\r\n    let url = `${apiURL}/api/v1/product/${id}/`\r\n\r\n    await axios.put(url, formData, { headers: { 'content-type': 'multipart/form-data' } })\r\n        .then(response => {\r\n            dispatch({\r\n                type: UPDATE_PRODUCT,\r\n                payload: {\r\n                    product: response.data,\r\n                    extra: extra\r\n                }\r\n            })\r\n            toast.success(\"Servicio actualizado correctamente\");\r\n            // eslint-disable-next-line no-lone-blocks\r\n            {handleChangeModal && handleChangeModal()}\r\n        })\r\n        .catch(error => {\r\n            toast.error(`${Object.values(error.response.data)[0]}`)\r\n        })\r\n}\r\n\r\n\r\nexport const deleteProduct = (formData, id) => async (dispatch) => {\r\n\r\n    let url = `${apiURL}/api/v1/product/${id}/`\r\n\r\n    await axios.delete(url, formData, { headers: { 'content-type': 'multipart/form-data' } })\r\n        .then(response => {\r\n            dispatch({\r\n                type: DELETE_PRODUCT,\r\n                payload: {\r\n                    product: {id}\r\n                }\r\n            })\r\n            toast.success(\"Servicio eliminado correctamente\");\r\n        })\r\n        .catch(error => {\r\n            toast.error(`${Object.values(error.response.data)[0]}`)\r\n        })\r\n}\r\n","export const getConfig = () => {\r\n    if (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') {\r\n        return {\r\n            \"apiURL\": \"http://127.0.0.1:8000\",\r\n            \"staticURL\": \"http://127.0.0.1:8000/static\"\r\n        }\r\n    } else {\r\n        return {\r\n            \"apiURL\": \"\",\r\n            \"staticURL\": \"https://storage.googleapis.com/barbershop-uv\"\r\n        }\r\n    }\r\n}","export const SET_LOGIN = 'SET_LOGIN';\r\nexport const ADD_USER = 'ADD_USER';\r\nexport const ADD_SERVICE = 'ADD_SERVICE';\r\nexport const UPDATE_USER = 'UPDATE_USER';\r\n\r\nexport const setLogin = (token) => {\r\n  return {\r\n    type: SET_LOGIN,\r\n    token\r\n  }\r\n}\r\n\r\nexport const addUser = (user) => {\r\n  return {\r\n    type: ADD_USER,\r\n    user\r\n  }\r\n}\r\n\r\nexport const addService = (service) => {\r\n  return {\r\n    type: ADD_SERVICE,\r\n    service\r\n  }\r\n}\r\n\r\nexport const updateUser = (user) => {\r\n  return {\r\n    type: UPDATE_USER,\r\n    payload: {\r\n      user: user\r\n    }\r\n  }\r\n}\r\n","/**\r\n * Componente responsable de generar la barra superior de la aplicacion,\r\n * la cual permanecerá visible en  todas las vistas de la aplicacion.\r\n */\r\n\r\nimport React, { Component } from 'react'\r\nimport { Nav, DropdownButton, Dropdown, Button } from 'react-bootstrap';\r\n\r\nimport { setLogin } from '../store-manager/actions';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom'\r\nimport { getConfig } from '../config';\r\nimport {\r\n  Link,\r\n} from \"react-router-dom\";\r\n\r\nexport class Header extends Component {\r\n  state = {\r\n    color: 'primary'\r\n  }\r\n\r\n  setColor = () => {\r\n    this.state.color === 'primary' ? this.setState({ color: 'dark' }) : this.setState({ color: 'primary' })\r\n  }\r\n\r\n  onLogout = () => {\r\n    this.props.logout();\r\n    this.props.history.push('/');\r\n  }\r\n\r\n  render() {\r\n    const { current_user, barber, is_logged } = this.props;\r\n    let config = getConfig()\r\n    return (\r\n      <Nav className=\"navbar navbar-expand-lg navbar-light bg-light border-bottom\">\r\n        <Link to=\"/\"><img\r\n          alt=\"\"\r\n          src={barber.logo}\r\n          className=\"profile-pic header-logo\"\r\n        /></Link>\r\n        <Link to=\"/\" className=\"navbar-brand\">{barber.name}</Link>\r\n        <Button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </Button>\r\n\r\n        <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n          <ul className=\"navbar-nav ml-auto mt-2 mt-lg-0\">\r\n            {is_logged ?\r\n              <>\r\n                <img src={`${config.staticURL}/media/profile.png`} alt=\"user\" className=\"profile-pic2 imagen_cover\" />\r\n                <DropdownButton className='derecha' alignRight title={current_user.name + \" \" + current_user.last_name} id=\"dropdown-menu-align-right\" variant='link'>\r\n                  <Link to=\"/appointments\" className=\"dropdown-item\" role=\"button\">Mis Reservas</Link>\r\n                  {current_user.role === 'ADMIN' ? <Link to=\"/admin\" className=\"dropdown-item\" role=\"button\">Administración</Link> : null}\r\n                  <Dropdown.Divider />\r\n                  <Dropdown.Item eventKey=\"4\" onClick={this.onLogout}>Salir</Dropdown.Item>\r\n                </DropdownButton></>\r\n              : <Link to=\"/login\" >Ingresar</Link>}\r\n          </ul>\r\n        </div>\r\n      </Nav>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    'current_user': state.general.current_user,\r\n    'is_logged': state.general.is_logged,\r\n    'barber': state.general.barber,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    'logout': () => {\r\n      dispatch(setLogin(false));\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Header));\r\n\r\n","import axios from 'axios'\r\nimport { getConfig } from '../../config'\r\nimport { toast } from 'react-toastify';\r\nexport const TOGGLE_MODAL = 'TOGGLE_MODAL'\r\nexport const ADD_PRODUCT = 'ADD_PRODUCT'\r\nexport const REMOVE_PRODUCT = 'REMOVE_PRODUCT'\r\nexport const CREATE_APPOINTMENT = 'CREATE_APPOINTMENT'\r\nexport const CLEAR_PRODUCTS = 'CLEAR_PRODUCTS'\r\n\r\nexport const FETCH_MY_APPOINTMENTS = 'FETCH_MY_APPOINTMENTS'\r\nexport const FETCH_APPOINTMENTS = 'FETCH_APPOINTMENTS'\r\nexport const START_APPOINTMENT = 'START_APPOINTMENT'\r\nexport const UPDATE_APPOINTMENT = 'UPDATE_APPOINTMENT'\r\n\r\nlet config = getConfig()\r\nlet apiURL = config.apiURL\r\n\r\n\r\nexport const toogleModal = (show, product) => {\r\n  return {\r\n    type: TOGGLE_MODAL,\r\n    product,\r\n    show\r\n  }\r\n}\r\n\r\nexport const addProduct = (product) => {\r\n  return {\r\n    type: ADD_PRODUCT,\r\n    product,\r\n  }\r\n}\r\n\r\nexport const removeProduct = (product) => {\r\n  return {\r\n    type: REMOVE_PRODUCT,\r\n    product,\r\n  }\r\n}\r\n\r\nexport const clearProducts = () => {\r\n  return {\r\n    type: CLEAR_PRODUCTS,\r\n  }\r\n}\r\n\r\n\r\nexport const createAppointment = (formData, callback) => async (dispatch) => {\r\n  let url = `${apiURL}/api/v1/appointment/create/`\r\n\r\n  await axios.post(url, formData, { headers: { 'content-type': 'multipart/form-data' } })\r\n    .then(async response => {\r\n      callback();\r\n\r\n      await dispatch({\r\n        type: TOGGLE_MODAL,\r\n        show: false,\r\n        product: null\r\n      })\r\n      dispatch({\r\n        type: CLEAR_PRODUCTS,\r\n      })\r\n      toast.success(\"Reserva creada exitosamente!\");\r\n\r\n\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      if (error.response && error.response.data && Object.values(error.response.data).length > 0) {\r\n        toast.error(`${Object.values(error.response.data)[0]}`)\r\n      } else {\r\n        toast.error(\"Ocurrió un error al crear la reserva\")\r\n      }\r\n\r\n    })\r\n}\r\n\r\nexport const fetchMyAppointments = () => async (dispatch) => {\r\n  let url = `${apiURL}/api/v1/appointment/my/`\r\n\r\n  await axios.get(url)\r\n    .then(response => {\r\n      dispatch({\r\n        type: FETCH_MY_APPOINTMENTS,\r\n        my_appointments: response.data\r\n      })\r\n    })\r\n    .catch(error => {\r\n      try {\r\n        toast.error(`${Object.values(error.response.data)[0]}`)\r\n      } catch (error) {\r\n        console.log(\"e\", error);\r\n      }\r\n    })\r\n}\r\n\r\nexport const fetchAppointments = () => async (dispatch) => {\r\n\r\n  let url = `${apiURL}/api/v1/appointment/`\r\n  await axios.get(url)\r\n      .then(response => {\r\n          dispatch({\r\n              type: FETCH_APPOINTMENTS,\r\n              appointments: response.data.results\r\n          })\r\n      })\r\n      .catch(error => {\r\n          toast.error(`${Object.values(error.response.data)[0]}`)\r\n      })\r\n}\r\n\r\nexport const updateAppointment = (formData, id) => async (dispatch) => {\r\n  let url = `${apiURL}/api/v1/appointment/${id}/`\r\n  await axios.put(url, formData, { headers: { 'content-type': 'multipart/form-data' } })\r\n      .then(response => {\r\n          dispatch({\r\n              type: UPDATE_APPOINTMENT,\r\n              appointment: response.data,\r\n          })\r\n      })\r\n      .catch(error => {\r\n          toast.error(`${Object.values(error.response.data)[0]}`)\r\n      })\r\n}\r\n\r\nexport const startAppointment = (appointment) => async (dispatch) => {\r\n  const formData = new FormData()\r\n  formData.append('status','EN PROCESO');\r\n  formData.append('start_date',new Date().toISOString());\r\n  dispatch(updateAppointment(formData, appointment.id));\r\n}\r\n\r\nexport const denyAppointment = (appointment) => async (dispatch) => {\r\n  const formData = new FormData()\r\n  formData.append('status','RECHAZADA');\r\n  dispatch(updateAppointment(formData, appointment.id));\r\n}","export function parseJwt (token) {\r\n    var base64Url = token.split('.')[1];\r\n    var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\r\n    var jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {\r\n        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\r\n    }).join(''));\r\n\r\n    return JSON.parse(jsonPayload);\r\n};\r\n\r\nexport function getUserInfoFromJWT(token){\r\n    let jwt_data = parseJwt(token.access);\r\n    return {\r\n      token: token,\r\n      name: jwt_data.first_name,\r\n      last_name: jwt_data.last_name,\r\n      role: jwt_data.role,\r\n    }\r\n}\r\n\r\nexport function genRand(min, max, decimalPlaces) {  \r\n    var rand = Math.random() < 0.5 ? ((1-Math.random()) * (max-min) + min) : (Math.random() * (max-min) + min);  // could be min or max or anything in between\r\n    var power = Math.pow(10, decimalPlaces);\r\n    return Math.floor(rand*power) / power;\r\n}\r\n\r\nexport function numberWithCommas(x) {\r\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n}","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport './CustomModal.css'\r\n\r\nimport { toogleModal, addProduct, removeProduct,createAppointment } from '../store-manager/actions/AppointmentActions'\r\nimport { Modal, Button, Form, Col } from 'react-bootstrap';\r\nimport NumberFormat from 'react-number-format'\r\nimport ReactStars from 'react-stars'\r\nimport { genRand } from '../utils'\r\nimport DatePicker, { registerLocale, setDefaultLocale } from 'react-datepicker'\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport es from 'date-fns/locale/es';\r\nimport setMinutes from \"date-fns/setMinutes\";\r\nimport setHours from \"date-fns/setHours\";\r\nregisterLocale('es', es)\r\nsetDefaultLocale('es')\r\n\r\nexport class ModalAddAppointment extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.formRef = React.createRef();\r\n    this.initial_state = {\r\n      step: 1,\r\n      max_steps: 2,\r\n      form_validated: false,\r\n      start_date: null,\r\n      is_valid_date: false\r\n    }\r\n    this.state = this.initial_state;\r\n\r\n  }\r\n\r\n  onChangeDate = (date) => {\r\n    try {\r\n      let time_hours = date.getHours();\r\n      if(time_hours >= 7 && time_hours <= 20 ){\r\n        this.setState({ start_date: date, is_valid_date: true })\r\n      }else{\r\n        throw new Error(\"Error\");\r\n      }\r\n    } catch (error) {\r\n      this.setState({ start_date: null, is_valid_date: false })\r\n    }\r\n  }\r\n\r\n  setStep = (step) => {\r\n    this.setState({ step })\r\n  }\r\n\r\n  onClickMainBtn = () => {\r\n    if (this.state.step === this.state.max_steps) {\r\n      try {\r\n        const form = this.formRef.current;\r\n        if (form.checkValidity() === true) {\r\n          const formData = new FormData(form);\r\n          formData.append('start_date', Math.floor(this.state.start_date.getTime() / 1000));\r\n          formData.append('products', JSON.stringify(this.props.products.map(product => product.id)));\r\n          formData.append('estimated_price', this.props.products.reduce((total, product) => total + product.price, 0));\r\n          this.props.createAppointment(formData, () => {\r\n            this.setState(this.initial_state);\r\n          });\r\n        }\r\n        this.setState({ form_validated: true });\r\n        return;\r\n      } catch (error) {\r\n        console.log(error);\r\n        return;\r\n      }\r\n    }\r\n    return this.addStep();\r\n  }\r\n\r\n  addStep = () => {\r\n    this.setStep(this.state.step + 1);\r\n  }\r\n\r\n  backStep = () => {\r\n    if (this.state.step === 1) {\r\n      return this.props.toogleModal(false);\r\n    }\r\n\r\n    this.setStep(this.state.step - 1);\r\n  }\r\n\r\n  render() {\r\n    const { show_modal, main_product, products } = this.props;\r\n    return (\r\n      <Modal\r\n        show={show_modal}\r\n        onHide={() => {\r\n          this.setState(this.initial_state);\r\n          this.props.toogleModal(false)\r\n        }}\r\n        dialogClassName=\"modal-appointment\"\r\n        id={\"schedule\"}\r\n        aria-labelledby=\"example-custom-modal-styling-title\"\r\n      >\r\n        <Modal.Header closeButton>\r\n          <div className=\"slider main-bg-color\" style={{\r\n            left: (100 - (100 / this.state.step)) + \"%\"\r\n          }}>\r\n            {this.state.step !== 1 ? <div className=\"start main-bg-color\"></div> : null}\r\n            {this.state.step !== this.state.max_steps ? <div className=\"end main-bg-color\"></div> : null}\r\n          </div>\r\n          <div className=\"step-container\">\r\n            <span className=\"step-number\">1</span>\r\n            <span className=\"step-title\">Servicios</span>\r\n          </div>\r\n          <div className=\"step-container last\">\r\n            <span className=\"step-number\">2</span>\r\n            <span className=\"step-title\">Ingresa tus datos</span>\r\n          </div>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          {main_product && this.state.step === 1 ?\r\n            <div className=\"modal-appointment-main-product\">\r\n              <div className=\"flex-row-jst-btw\">\r\n                <span className=\"title\">{main_product.name}</span>\r\n                <ReactStars\r\n                  count={5}\r\n                  value={genRand(3.5, 5, 2)}\r\n                  edit={false}\r\n                  size={18}\r\n                  color1={\"#e6e6e6\"}\r\n                />\r\n              </div>\r\n              <div className=\"flex-row-jst-btw\">\r\n                <NumberFormat value={main_product.price} displayType={'text'} thousandSeparator={true} prefix={'$'} />\r\n                <p>{main_product.duration} Min</p>\r\n              </div>\r\n              {main_product.description && main_product.description.trim() !== \"\"\r\n                ? <><p><strong>Descripción</strong></p>\r\n                  <p className=\"description\">\r\n                    {main_product.description}\r\n                  </p> </>\r\n                : null}\r\n              {products && products.findIndex((item) => item.id === main_product.id) === -1\r\n                ?\r\n                <Button variant=\"success\" size=\"sm\" onClick={() => { this.props.addProduct(main_product) }}>\r\n                  Agregar\r\n              </Button>\r\n                : null}\r\n            </div> : null}\r\n\r\n\r\n\r\n          {this.state.step === 2 ?\r\n            <div className=\"modal-appointment-form\">\r\n              <p className=\"title\">Datos de Reserva</p>\r\n              <Form ref={this.formRef} noValidate validated={this.state.form_validated} onSubmit={this.handleSubmit}>\r\n                <Form.Group controlId=\"start_date\">\r\n                  <Form.Label>Fecha</Form.Label>\r\n                  <DatePicker\r\n                    locale=\"es\"\r\n                    className=\"date-form-control\"\r\n                    selected={this.state.start_date}\r\n                    onChange={date => this.onChangeDate(date)}\r\n                    showTimeSelect\r\n                    timeFormat=\"HH:mm\"\r\n                    timeIntervals={15}\r\n                    timeCaption=\"time\"\r\n                    dateFormat=\"MMMM d, yyyy h:mm aa\"\r\n                    minDate={new Date()}\r\n                    minTime={setHours(setMinutes(new Date(), 0), 7)}\r\n                    maxTime={setHours(setMinutes(new Date(), 30), 20)}\r\n                  />\r\n                </Form.Group>\r\n                <Form.Row>\r\n                  <Form.Group as={Col} controlId=\"first_name\">\r\n                    <Form.Label>Nombre</Form.Label>\r\n                    <Form.Control required type=\"text\" name=\"first_name\" />\r\n                  </Form.Group>\r\n\r\n                  <Form.Group as={Col} controlId=\"last_name\">\r\n                    <Form.Label>Apellido</Form.Label>\r\n                    <Form.Control required type=\"text\" name=\"last_name\" />\r\n                  </Form.Group>\r\n                </Form.Row>\r\n                <Form.Row>\r\n                  <Form.Group as={Col} controlId=\"email\">\r\n                    <Form.Label>Correo Electrónico</Form.Label>\r\n                    <Form.Control required type=\"email\" name=\"email\" />\r\n                  </Form.Group>\r\n\r\n                  <Form.Group as={Col} controlId=\"telephone\">\r\n                    <Form.Label>Teléfono</Form.Label>\r\n                    <Form.Control required type=\"text\" name=\"telephone\"/>\r\n                  </Form.Group>\r\n                </Form.Row>\r\n\r\n                <Form.Group controlId=\"notes\">\r\n                  <Form.Label>Comentarios</Form.Label>\r\n                  <Form.Control as='textarea' name=\"notes\" />\r\n                </Form.Group>\r\n\r\n              </Form>\r\n            </div> : null}\r\n\r\n\r\n          <div className=\"modal-appointment-product-list\">\r\n            <div className=\"title\">Servicios seleccionados</div>\r\n            <div className=\"products\">\r\n              {products && products.length > 0 ?\r\n                <>\r\n                  <div className=\"products-lists\">\r\n                    {products.map((product) => {\r\n                      return (<div key={product.id} className=\"flex-row-jst-btw product\">\r\n                        <div><span className=\"btn-remove\" onClick={() => { this.props.removeProduct(product) }}>×</span> {product.name}</div>\r\n                        <NumberFormat value={product.price} displayType={'text'} thousandSeparator={true} prefix={'$'} />\r\n                      </div>)\r\n                    })}\r\n\r\n                  </div>\r\n                  <div className=\"flex-row-jst-btw total\">\r\n                    <strong>Total</strong>\r\n                    <NumberFormat value={products.reduce((total, product) => total + product.price, 0)} displayType={'text'} thousandSeparator={true} prefix={'$'} />\r\n                  </div>\r\n                </>\r\n                :\r\n                <div className=\"empty\">No has agregado ningún servicio</div>\r\n              }\r\n            </div>\r\n          </div>\r\n\r\n\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={this.backStep}>\r\n            Atrás\r\n            </Button>\r\n          <Button disabled={!products || products.length === 0 || (this.state.step === this.state.max_steps && !this.state.is_valid_date)} variant=\"success\" onClick={this.onClickMainBtn}>\r\n            {this.state.step === this.state.max_steps ? \"Crear Reserva\" : \"Siguiente\"}\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  show_modal: state.appointmentReducer.show_modal,\r\n  main_product: state.appointmentReducer.main_product,\r\n  products: state.appointmentReducer.products,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    toogleModal: (show) => dispatch(toogleModal(show)),\r\n    addProduct: (product) => dispatch(addProduct(product)),\r\n    removeProduct: (product) => dispatch(removeProduct(product)),\r\n    createAppointment: (formData, callback) => dispatch(createAppointment(formData, callback)),\r\n  }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalAddAppointment)\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Card, Col, Container, Row } from 'react-bootstrap'\r\nimport NumberFormat from 'react-number-format'\r\nimport ReactStars from 'react-stars';\r\nimport { getConfig } from '../config';\r\nimport ModalAddAppointment from './ModalAddAppointment';\r\nimport { toogleModal, addProduct } from '../store-manager/actions/AppointmentActions'\r\nimport { genRand } from '../utils'\r\n\r\n\r\n\r\nclass Services extends Component {\r\n  render() {\r\n    const { services } = this.props;\r\n    let config = getConfig()\r\n    let apiURL = config.apiURL\r\n    return (\r\n      <Container className='services-container'>\r\n        <ModalAddAppointment />\r\n        <Row>\r\n          {services.map(service => {\r\n\r\n            return <Col key={'service-' + service.id} className=\"service-card-col\" md={4} lg={3} sm={12} xs={12}>\r\n              <Card className=\"service-card\" onClick={() => this.props.toogleModal(true, service)}>\r\n                <div className=\"service-image-container\">\r\n                  <Card.Img width={375} height={211} variant=\"top\" src={(service.photos && service.photos.length > 0 ? apiURL + service.photos[0].photo : null)} />\r\n                  <div className=\"after\">\r\n                    <div className=\"bottom-left\"><ReactStars\r\n                      count={5}\r\n                      value={genRand(3.5, 5, 2)}\r\n                      //onChange={ratingChanged}\r\n                      edit={false}\r\n                      size={18}\r\n                      color1={\"#e6e6e6\"}\r\n                    /></div>\r\n                    <div className=\"bottom-right service-duration\">{service.duration} Min</div></div>\r\n\r\n                </div>\r\n\r\n                <Card.Body>\r\n                  <Card.Title>{service.name}</Card.Title>\r\n                  <div className=\"card-text\">\r\n                    <div className=\"service-card-footer\">\r\n                      <NumberFormat value={service.price} displayType={'text'} thousandSeparator={true} prefix={'$'} />\r\n                      <span className=\"service-card-btn\" onClick={async () => { await this.props.addProduct(service); this.props.toogleModal(true, service); }} >+ Reservar</span>\r\n                    </div>\r\n                  </div>\r\n                </Card.Body>\r\n              </Card>\r\n            </Col>;\r\n          })}\r\n        </Row>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  return {\r\n    'services': state.productReducer.products,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    toogleModal: (show, service) => dispatch(toogleModal(show, service)),\r\n    addProduct: async (product) => await dispatch(addProduct(product)),\r\n  }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Services)\r\n","import React, { Component } from 'react'\r\nimport './Footer.css'\r\nimport { Map, GoogleApiWrapper } from 'google-maps-react'\r\nimport { SocialIcon } from 'react-social-icons';\r\n\r\nexport class Footer extends Component {\r\n  render() {\r\n    const mapStyles = {\r\n      width: '400px',\r\n      height: '200px',\r\n    };\r\n    return (\r\n      <footer className=\"page-footer font-small teal pt-4\">\r\n        <div className=\"container-fluid text-center text-md-left\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-6 mt-md-0 mt-3\">\r\n              <h5 className=\"text-uppercase font-weight-bold\">BarberShop</h5>\r\n              <p>La mejor barbería en el sur de Cali</p>\r\n              <SocialIcon network=\"facebook\" />\r\n              <SocialIcon network=\"twitter\" />\r\n              <SocialIcon network=\"instagram\" />\r\n            </div>\r\n            <hr className=\"clearfix w-100 d-md-none pb-3\" />\r\n            <div className=\"col-md-6 mb-md-0 mb-3\">\r\n              <h5 className=\"text-uppercase font-weight-bold\">Contáctanos</h5>\r\n              <div className=\"map-container\">\r\n                <Map\r\n                  google={this.props.google}\r\n                  zoom={8}\r\n                  style={mapStyles}\r\n                  initialCenter={{ lat: 47.444, lng: -122.176 }}\r\n                />\r\n              </div>\r\n              <span><strong>Dirección:</strong> 742 Evergreen Terrace</span>\r\n              <br />\r\n              <span>3145478954 - 4578115</span>\r\n              <br />\r\n              <span>contacto@barbershop.gq</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"footer-copyright text-center py-3\">© 2020 Copyright:<a href=\"https://barbershop.gq/\"> Barbershop</a></div>\r\n      </footer>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default GoogleApiWrapper({\r\n  apiKey: 'AIzaSyCc3HtcNF2yVT6kc_lzDRQvIxFy6VL26oY'\r\n})(Footer);\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { setLogin } from '../store-manager/actions'\r\nimport { fetchProducts } from '../store-manager/actions/ProductActions'\r\nimport Header from './Header'\r\nimport Services from './Services'\r\nimport Footer from './Footer';\r\nclass Homepage extends Component {\r\n\r\n  componentDidMount() {\r\n    this.props.fetchProducts()\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Header />\r\n        <Services />\r\n        <Footer />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    logout: () => dispatch(setLogin(null)),\r\n    fetchProducts: () => dispatch(fetchProducts())\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Homepage);\r\n","import React, { Component } from 'react'\r\nimport '../static/css/Login.css'\r\nimport { Card, Form, Container, Button } from 'react-bootstrap';\r\nimport { connect } from 'react-redux';\r\nimport { setLogin } from '../store-manager/actions';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { toast } from 'react-toastify';\r\nimport { getConfig } from \"../config\";\r\nlet config = getConfig()\r\nlet apiURL = config.apiURL\r\nclass Login extends Component {\r\n\r\n  state = {\r\n    username: '',\r\n    password: ''\r\n  }\r\n\r\n  handleChange = (event, field) => {\r\n    let new_state = {}\r\n    new_state[field] = event.target.value;\r\n\r\n    this.setState(new_state);\r\n  }\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n    fetch(`${apiURL}/api/token/`, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({\r\n        \"username\": this.state.username,\r\n        \"password\": this.state.password\r\n      })\r\n    }).then(res => res.json())\r\n      .then(res => {\r\n        if (res.error) {\r\n          throw (res.error);\r\n        }\r\n        if (typeof(res.access) === 'undefined' || res.access === ''){\r\n          throw new Error(\"Credenciales incorrectas\");\r\n        }\r\n\r\n        localStorage.setItem('currentToken', JSON.stringify(res));\r\n        toast.success(\"Credenciales correctas\");\r\n        this.props.login(res);\r\n      })\r\n      .catch(error => {\r\n        try {\r\n          if(typeof error === 'object'){\r\n            throw new Error(\"Error\");\r\n          }\r\n          toast.error(error);\r\n        } catch (err) {\r\n          toast.error(\"Credenciales incorrectas\");\r\n        }\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { barber, is_logged } = this.props;\r\n    if (is_logged) {\r\n      return <Redirect to='/admin' />\r\n    }\r\n\r\n    return (\r\n      <div className='fondo' style={{\r\n        backgroundColor: 'red',\r\n        backgroundImage: `url(${config.staticURL}/media/bg-login.jpeg)`\r\n      }}>\r\n        <Container className='d-flex justify-content-center mt-5'>\r\n          <Card style={{ width: '30rem' }}>\r\n            <Card.Body>\r\n              <div className=\"sidebar-heading text-center mt-1 pro-img\">\r\n                <img\r\n                  alt=\"\"\r\n                  src={barber.logo}\r\n                  className=\"profile-pic imagen_cover img-thumbnail\"\r\n                />\r\n              </div>\r\n              <Card.Title className='text-center'>{barber.name}</Card.Title>\r\n              <Container>\r\n                <Form onSubmit={this.onSubmit}>\r\n                  <Form.Group controlId=\"formBasicEmail\">\r\n                    <Form.Label>Usuario</Form.Label>\r\n                    <Form.Control type=\"text\" placeholder=\"Nombre de usuario\" value={this.state.username} onChange={(e) => this.handleChange(e, 'username')} />\r\n                    <Form.Text className=\"text-muted\">\r\n                    </Form.Text>\r\n                  </Form.Group>\r\n\r\n                  <Form.Group controlId=\"formBasicPassword\">\r\n                    <Form.Label>Contraseña</Form.Label>\r\n                    <Form.Control type=\"password\" placeholder=\"Contraseña\" value={this.state.password} onChange={(e) => this.handleChange(e, 'password')} />\r\n                  </Form.Group>\r\n                  <Button className='btn-block mb-3' variant=\"primary\" type=\"submit\">\r\n                    Ingresar\r\n                                    </Button>\r\n                </Form>\r\n              </Container>\r\n            </Card.Body>\r\n          </Card>\r\n        </Container>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    'barber': state.general.barber,\r\n    'is_logged': state.general.is_logged\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    'login': (token) => {\r\n      dispatch(setLogin(token));\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\r\n","import { getConfig } from \"../../config\";\r\nimport axios from 'axios'\r\nimport { toast } from 'react-toastify';\r\n\r\nexport const FETCH_USERS = 'FETCH_USERS'\r\nexport const CREATE_USER = 'CREATE_USER'\r\nexport const UPDATE_USER = 'UPDATE_USER'\r\nexport const DELETE_USER = 'DELETE_USER'\r\n\r\nlet config = getConfig()\r\nlet apiURL = config.apiURL\r\n\r\nexport const fetchUsers = () => async (dispatch) => {\r\n\r\n    let url = `${apiURL}/api/v1/user/`\r\n    await axios.get(url)\r\n        .then(response => {\r\n            dispatch({\r\n                type: FETCH_USERS,\r\n                payload: {\r\n                    users: response.data.results\r\n                }\r\n            })\r\n        })\r\n        .catch(error => {\r\n            toast.error(`${Object.values(error.response.data)[0]}`)\r\n        })\r\n}\r\n\r\nexport const createUser = (user, handleChangeModal) => async (dispatch) => {\r\n\r\n    let url = `${apiURL}/api/v1/user/`\r\n    await axios.post(url, user)\r\n        .then(response => {\r\n            dispatch({\r\n                type: CREATE_USER,\r\n                payload: {\r\n                    user: response.data\r\n                }\r\n            })\r\n            toast.success(\"Usuario creado correctamente\");\r\n            handleChangeModal()\r\n        })\r\n        .catch(error => {\r\n            toast.error(`${Object.values(error.response.data)[0]}`)\r\n        })\r\n}\r\n\r\nexport const updateUser = (user, handleChangeModal) => async (dispatch) => {\r\n\r\n    let url = `${apiURL}/api/v1/user/${user.id}/`\r\n    await axios.put(url, user)\r\n        .then(response => {\r\n            dispatch({\r\n                type: UPDATE_USER,\r\n                payload: {\r\n                    user: response.data\r\n                }\r\n            })\r\n            toast.success(\"Usuario actualizado correctamente\");\r\n            handleChangeModal()\r\n        })\r\n        .catch(error => {\r\n            toast.error(`${Object.values(error.response.data)[0]}`)\r\n        })\r\n}\r\n\r\nexport const deleteUser = (user) => async (dispatch) => {\r\n\r\n    let url = `${apiURL}/api/v1/user/${user.id}/`\r\n\r\n    await axios.put(url, user)\r\n        .then(response => {\r\n            dispatch({\r\n                type: DELETE_USER,\r\n                payload: {\r\n                    user: response.data\r\n                }\r\n            })\r\n            toast.success(\"Usuario eliminado correctamente\");\r\n        })\r\n        .catch(error => {\r\n            toast.error(`${Object.values(error.response.data)[0]}`)\r\n        })\r\n}","import React, { Component } from 'react'\r\nimport { Button, Form, Col, } from 'react-bootstrap';\r\nimport { connect } from 'react-redux';\r\nimport { updateUser } from '../../store-manager/actions/UserActions';\r\n\r\nexport class FormUpdateUser extends Component {\r\n  state = {\r\n    ...this.props.user,\r\n    username: this.props.user.username,\r\n    email: this.props.user.email,\r\n    first_name: this.props.user.first_name,\r\n    last_name: this.props.user.last_name,\r\n    role: this.props.user.role,\r\n  }\r\n\r\n  onChange = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value })\r\n  }\r\n\r\n  onSubmite = (e) => {\r\n    e.preventDefault()\r\n    const user = this.state//asigna los valores del state actual a la variable user\r\n    this.props.updateUser(user, this.props.handleChangeModal)//añadir el objeto a la lista de usuarios\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Form onSubmit={this.onSubmite}>\r\n        <Form.Row>\r\n          <Form.Group as={Col} controlId=\"formGridUsername\">\r\n            <Form.Label>Username</Form.Label>\r\n            <Form.Control name='username' type=\"text\" required placeholder=\"Username\" defaultValue={this.state.username} onChange={this.onChange} />\r\n          </Form.Group>\r\n\r\n          <Form.Group as={Col} controlId=\"formGridEmail\">\r\n            <Form.Label>Email</Form.Label>\r\n            <Form.Control name='email' type=\"email\" required placeholder=\"Email\" defaultValue={this.state.email} onChange={this.onChange} />\r\n          </Form.Group>\r\n        </Form.Row>\r\n\r\n        <Form.Row>\r\n          <Form.Group as={Col} controlId=\"formGridName\">\r\n            <Form.Label>Nombre</Form.Label>\r\n            <Form.Control name='first_name' type=\"text\" required placeholder=\"nombre\" defaultValue={this.state.first_name} onChange={this.onChange} />\r\n          </Form.Group>\r\n\r\n          <Form.Group as={Col} controlId=\"formGridLatsName\">\r\n            <Form.Label>last_name</Form.Label>\r\n            <Form.Control name='last_name' type=\"text\" required placeholder=\"apellido\" defaultValue={this.state.last_name} onChange={this.onChange} />\r\n          </Form.Group>\r\n        </Form.Row>\r\n        <Form.Row>\r\n          <Form.Group as={Col} controlId=\"formGridState\">\r\n            <Form.Label>Rol</Form.Label>\r\n            <Form.Control name='role' as=\"select\" value={this.state.role} required onChange={this.onChange}>\r\n              <option value='0' disabled>Seleccione un rol...</option>\r\n              <option value='ADMIN'>Administrador</option>\r\n              <option value='CLIENTE'>Cliente</option>\r\n              <option value='PELUQUERO'>Peluquero</option>\r\n            </Form.Control>\r\n          </Form.Group>\r\n        </Form.Row>\r\n        <Button variant=\"success\" type=\"submit\">\r\n          Actualizar\r\n        </Button>\r\n        <Button variant=\"secondary\" onClick={this.props.handleChangeModal}>Cancelar</Button>\r\n      </Form>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    updateUser: (user, handleChangeModal) => {\r\n      dispatch(updateUser(user, handleChangeModal));\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FormUpdateUser);\r\n","import React, { Component } from 'react'\r\nimport { Button, Row, Col, Modal } from 'react-bootstrap'\r\nimport FormUpdateUser from './FormUpdateUser'\r\nimport { deleteUser } from '../../store-manager/actions/UserActions'\r\nimport { connect } from 'react-redux'\r\n\r\n\r\n\r\nexport class User extends Component {\r\n\r\n  state = {\r\n    show: false\r\n  }\r\n\r\n  handleChangeModal = () => {\r\n    this.setState({ show: !this.state.show })\r\n  }\r\n\r\n  handleDelete = () => {\r\n    let option = window.confirm(`¿Esta seguro de eliminar al usuario '${this.props.user.username}' ?`)\r\n    if (option) {\r\n      this.props.user.is_active = false\r\n      this.props.deleteUser(this.props.user)\r\n    }\r\n  }\r\n\r\n\r\n  render() {\r\n    const { username, email, first_name, last_name, role } = this.props.user\r\n    return (\r\n      <React.Fragment>\r\n        <tr>\r\n          <td>{username}</td>\r\n          <td>{email}</td>\r\n          <td>{first_name} {last_name}</td>\r\n          <td>{role}</td>\r\n          <td>\r\n            <Row className='text-center'>\r\n              <Col>\r\n                <Button className='btn-block' variant=\"warning\" type=\"submit\" onClick={this.handleChangeModal}>\r\n                  Editar\r\n            </Button>\r\n              </Col>\r\n              <Col>\r\n                <Button className='btn-block' variant=\"danger\" type=\"button\" onClick={this.handleDelete}>\r\n                  Eliminar\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n          </td>\r\n        </tr>\r\n\r\n        <Modal show={this.state.show} onHide={this.handleChangeModal}>\r\n          <Modal.Header bg='success' closeButton>\r\n            <Modal.Title>Editar Usuario</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <FormUpdateUser user={this.props.user} handleChangeModal={this.handleChangeModal} />\r\n          </Modal.Body>\r\n        </Modal>\r\n      </React.Fragment>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    deleteUser: (user) => dispatch(deleteUser(user))\r\n  };\r\n};\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(User)\r\n","import React, { Component } from 'react'\r\nimport { Button, Form, Col, } from 'react-bootstrap';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { createUser } from '../../store-manager/actions/UserActions'\r\n\r\nexport class FormUsers extends Component {\r\n  state = {\r\n    username: '',\r\n    email: '',\r\n    first_name: '',\r\n    last_name: '',\r\n    role: '0',\r\n    is_active: true,\r\n    password: '',\r\n  }\r\n\r\n  onChange = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value })\r\n  }\r\n\r\n  onSubmite = (e) => {\r\n    e.preventDefault()\r\n    const user = this.state//asigna los valores del state actual a la variable user\r\n    this.props.createUser(user, this.props.handleChangeModal)//añadir el objeto a la lista de usuarios¿\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Form onSubmit={this.onSubmite}>\r\n        <Form.Row>\r\n          <Form.Group as={Col} controlId=\"formGridUsername\">\r\n            <Form.Label>Username</Form.Label>\r\n            <Form.Control name='username' type=\"text\" required placeholder=\"Username\" onChange={this.onChange} />\r\n          </Form.Group>\r\n\r\n          <Form.Group as={Col} controlId=\"formGridEmail\">\r\n            <Form.Label>Email</Form.Label>\r\n            <Form.Control name='email' type=\"email\" required placeholder=\"Email\" onChange={this.onChange} />\r\n          </Form.Group>\r\n        </Form.Row>\r\n\r\n        <Form.Row>\r\n          <Form.Group as={Col} controlId=\"formGridName\">\r\n            <Form.Label>Nombre</Form.Label>\r\n            <Form.Control name='first_name' type=\"text\" required placeholder=\"Nombre\" onChange={this.onChange} />\r\n          </Form.Group>\r\n\r\n          <Form.Group as={Col} controlId=\"formGridLatsName\">\r\n            <Form.Label>Apellido</Form.Label>\r\n            <Form.Control name='last_name' type=\"text\" required placeholder=\"Apellido\" onChange={this.onChange} />\r\n          </Form.Group>\r\n        </Form.Row>\r\n        <Form.Row>\r\n          <Form.Group as={Col} controlId=\"formGridState\">\r\n            <Form.Label>role</Form.Label>\r\n            <Form.Control name='role' as=\"select\" value={this.state.role} required onChange={this.onChange}>\r\n              <option value='0' disabled>Seleccione un rol...</option>\r\n              <option value='ADMIN'>Administrador</option>\r\n              <option value='CLIENTE'>Cliente</option>\r\n              <option value='PELUQUERO'>Peluquero</option>\r\n            </Form.Control>\r\n          </Form.Group>\r\n        </Form.Row>\r\n        <Form.Row>\r\n          <Form.Group as={Col} controlId=\"formGridPassword1\">\r\n            <Form.Label>Contraseña</Form.Label>\r\n            <Form.Control name='password' type=\"password\" required placeholder=\"Contraseña\" onChange={this.onChange} />\r\n          </Form.Group>\r\n        </Form.Row>\r\n\r\n        <Button variant=\"success\" type=\"submit\">\r\n          Crear Usuario\r\n        </Button>\r\n        <Button variant=\"secondary\" onClick={this.props.handleChangeModal}>Cancelar</Button>\r\n      </Form>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    createUser: (user, handleChangeModal) => dispatch(createUser(user, handleChangeModal))\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FormUsers);\r\n","import React, { Component } from 'react'\r\nimport { Button, Card, Container, Table, Modal } from 'react-bootstrap';\r\nimport User from './User';\r\nimport FormUsers from './FormUsers';\r\nimport { fetchUsers } from '../../store-manager/actions/UserActions'\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nexport class Users extends Component {\r\n\r\n  state = {\r\n    show: false\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.fetchUsers()\r\n  }\r\n\r\n  handleChangeModal = () => this.setState({ show: !this.state.show });\r\n\r\n  render() {\r\n    const { users } = this.props;\r\n    return (\r\n      <Container className='mt-5'>\r\n        <Card border=\"primary\">\r\n          <Card.Header>Usuarios</Card.Header>\r\n          <Card.Body>\r\n            <Card.Title> Gestion de usuarios  </Card.Title>\r\n\r\n            <Button variant=\"success\" onClick={this.handleChangeModal}>\r\n              Crear Usuario\r\n            </Button>\r\n\r\n            <Modal show={this.state.show} onHide={this.handleChangeModal}>\r\n              <Modal.Header bg='success' closeButton>\r\n                <Modal.Title>Crear Usuario</Modal.Title>\r\n              </Modal.Header>\r\n              <Modal.Body>\r\n                <FormUsers handleChangeModal={this.handleChangeModal} />\r\n              </Modal.Body>\r\n            </Modal>\r\n            <Table className='table mt-3' responsive striped hover>\r\n              <thead className=\"bg-primary text-white\">\r\n                <tr>\r\n                  <th>Username</th>\r\n                  <th>Email</th>\r\n                  <th>Nombre</th>\r\n                  <th>Rol</th>\r\n                  <th colSpan={2}>Acciones</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {users.map(user => (\r\n                  <User key={user.id}  user={user} />\r\n                ))}\r\n              </tbody>\r\n            </Table>\r\n          </Card.Body>\r\n        </Card>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    'users': state.userReducer.users,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    fetchUsers: () => dispatch(fetchUsers())\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Users);\r\n\r\n","import React, { Component } from 'react'\r\nimport { Button, Form, Col, Row, Card } from 'react-bootstrap';\r\nimport { connect } from 'react-redux';\r\nimport { createProduct } from '../../store-manager/actions/ProductActions';\r\nexport class FormServices extends Component {\r\n\r\n  state = {\r\n    name: '',\r\n    price: '',\r\n    description: '',\r\n    duration: '',\r\n    status: '0',\r\n    files: []\r\n  }\r\n\r\n  onChange = (e) => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value\r\n    })\r\n  }\r\n\r\n\r\n  handleSelectPhotos = (e) => {\r\n    this.setState({ files: [...this.state.files, ...e.target.files] })\r\n  }\r\n\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData()\r\n    formData.append('name', this.state.name)\r\n    formData.append('price', this.state.price)\r\n    formData.append('description', this.state.description)\r\n    formData.append('duration', this.state.duration)\r\n    formData.append('status', this.state.status)\r\n    this.props.createProduct(formData, this.props.toggleModal, this.state.files)\r\n  }\r\n\r\n  handleDeleteSelect = (file) => {\r\n    this.setState({ files: this.state.files.filter(photo => photo.name !== file.name) })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Form onSubmit={this.onSubmit}>\r\n        <Row>\r\n          <Col>\r\n            <Form.Row>\r\n              <Form.Group as={Col} controlId=\"formGridUsername\">\r\n                <Form.Label>Nombre</Form.Label>\r\n                <Form.Control name='name' type=\"text\" required placeholder=\"Nombre\" onChange={this.onChange} />\r\n              </Form.Group>\r\n            </Form.Row>\r\n\r\n            <Form.Row>\r\n              <Form.Group as={Col} controlId=\"formGridEmail\">\r\n                <Form.Label>Descripcion</Form.Label>\r\n                <Form.Control as='textarea' name='description' type=\"text\" required placeholder=\"Descripcion\" onChange={this.onChange} />\r\n              </Form.Group>\r\n            </Form.Row>\r\n\r\n            <Form.Row>\r\n              <Form.Group as={Col} controlId=\"formGridLatsName\">\r\n                <Form.Label>Precio</Form.Label>\r\n                <Form.Control name='price' type=\"number\" required placeholder=\"Precio\" onChange={this.onChange} />\r\n              </Form.Group>\r\n            </Form.Row>\r\n\r\n            <Form.Row>\r\n              <Form.Group as={Col} controlId=\"formGridPhone\">\r\n                <Form.Label>Duracion</Form.Label>\r\n                <Form.Control name='duration' placeholder=\"Duracion\" type='text' required onChange={this.onChange} />\r\n              </Form.Group>\r\n            </Form.Row>\r\n\r\n            <Form.Group id=\"formGridAactive\">\r\n              <Form.Label>Estado</Form.Label>\r\n              <Form.Control name='status' as=\"select\" value={this.state.status} required onChange={this.onChange}>\r\n                <option value='0' disabled>Seleccione un estado...</option>\r\n                <option value='ACTIVO'>Activo</option>\r\n                <option value='INACTIVO'>Inactivo</option>\r\n              </Form.Control>\r\n            </Form.Group>\r\n\r\n            <Form.Group as={Col} controlId=\"formGridName\">\r\n              <Form.Label>Fotos</Form.Label>\r\n              <Form.Control type=\"file\" name=\"files\" multiple required onChange={this.handleSelectPhotos} />\r\n            </Form.Group>\r\n          </Col>\r\n\r\n          {this.state.files &&\r\n            this.state.files.map(file => (\r\n              <Col lg={6} sm={6} className='mb-2'>\r\n                <Card style={{ width: '150px' }}>\r\n                  <Card.Img className=\"img-thumbnail\" variant=\"top\" style={{ height: '150px', width: '150px' }} src={typeof (file) == 'string' ? file : URL.createObjectURL(file)} />\r\n                  <span style={{ fontSize: '20px', color: '#f5222d' }} className='text-center' onClick={() => this.handleDeleteSelect(file)}>\r\n                    <i style={{ cursor: 'pointer' }} title='eliminar' className=\"fas fa-times\"></i>\r\n                  </span>\r\n                </Card>\r\n              </Col>\r\n            ))\r\n          }\r\n\r\n        </Row>\r\n        <Button variant=\"success\" type=\"submit\">\r\n          Crear Servicio\r\n        </Button>\r\n        <Button variant=\"secondary\" onClick={this.props.toggleModal}>\r\n          Cancelar\r\n        </Button>\r\n      </Form>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    createProduct: (formData, toggleModal, files) => {\r\n      dispatch(createProduct(formData, toggleModal, files));\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FormServices);\r\n\r\n","import React, { Component } from 'react'\r\nimport { Button, Form, Col, Row, Card } from 'react-bootstrap';\r\nimport { connect } from 'react-redux';\r\nimport { updateProduct } from '../../store-manager/actions/ProductActions';\r\nimport { getConfig } from '../../config'\r\nimport axios from 'axios'\r\nimport { toast } from 'react-toastify';\r\n\r\nexport class FormUpdateService extends Component {\r\n\r\n  state = {\r\n    ...this.props.service,\r\n    name: this.props.service.name,\r\n    description: this.props.service.description,\r\n    price: this.props.service.price,\r\n    duration: this.props.service.duration,\r\n    status: this.props.service.status,\r\n    files: this.props.service.photos,\r\n    extra: []\r\n  }\r\n\r\n  onChange = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value })\r\n  }\r\n\r\n  handleSelectPhotos = (e) => {\r\n    this.setState({ extra: [...this.state.extra, ...e.target.files] })\r\n    console.log(this.state.extra)\r\n  }\r\n\r\n\r\n  handleDeletePhoto = (file) => {\r\n    const formData = new FormData()\r\n    formData.append('product', file.product)\r\n    formData.append('deleted', true)\r\n    let config = getConfig()\r\n    let apiURL = config.apiURL\r\n\r\n\r\n    let url = `${apiURL}/api/v1/product_photo/${file.id}/`\r\n    axios.put(url, formData, { headers: { 'content-type': 'multipart/form-data' } })\r\n      .then(response => {\r\n        this.setState({ files: this.state.files.filter(photo => photo.id !== file.id) })\r\n\r\n        const formData = new FormData()\r\n        formData.append('name', this.state.name)\r\n        formData.append('price', this.state.price)\r\n        formData.append('description', this.state.description)\r\n        formData.append('duration', this.state.duration)\r\n        formData.append('status', this.state.status)\r\n        this.props.updateProduct(formData, this.props.service.id, this.state.extra)\r\n      })\r\n      .catch(error => {\r\n        toast.error(`${Object.values(error.response.data)[0]}`)\r\n      })\r\n  }\r\n\r\n  handleDeleteSelect = (file) => {\r\n    this.setState({ extra: this.state.extra.filter(photo => photo.name !== file.name) })\r\n  }\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault()\r\n    const formData = new FormData()\r\n    formData.append('name', this.state.name)\r\n    formData.append('price', this.state.price)\r\n    formData.append('description', this.state.description)\r\n    formData.append('duration', this.state.duration)\r\n    formData.append('status', this.state.status)\r\n    this.props.updateProduct(formData, this.props.service.id, this.state.extra, this.props.handleChangeModal)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Form onSubmit={this.onSubmit}>\r\n        <Row>\r\n          <Col lg={6}>\r\n            <Form.Row>\r\n              <Form.Group as={Col} controlId=\"formGridUsername\">\r\n                <Form.Label>Nombre</Form.Label>\r\n                <Form.Control name='name' type=\"text\" required defaultValue={this.state.name} placeholder=\"Nombre\" onChange={this.onChange} />\r\n              </Form.Group>\r\n            </Form.Row>\r\n\r\n            <Form.Row>\r\n              <Form.Group as={Col} controlId=\"formGridEmail\">\r\n                <Form.Label>Descripcion</Form.Label>\r\n                <Form.Control as='textarea' name='description' type=\"text\" defaultValue={this.state.description} required placeholder=\"Descripcion\" onChange={this.onChange} />\r\n              </Form.Group>\r\n            </Form.Row>\r\n\r\n            <Form.Row>\r\n\r\n              <Form.Group as={Col} controlId=\"formGridLatsName\">\r\n                <Form.Label>Precio</Form.Label>\r\n                <Form.Control name='price' type=\"number\" required defaultValue={this.state.price} placeholder=\"Precio\" onChange={this.onChange} />\r\n              </Form.Group>\r\n            </Form.Row>\r\n\r\n            <Form.Row>\r\n              <Form.Group as={Col} controlId=\"formGridPhone\">\r\n                <Form.Label>Duracion</Form.Label>\r\n                <Form.Control name='duration' placeholder=\"Duracion\" defaultValue={this.state.duration} type='text' required onChange={this.onChange} />\r\n              </Form.Group>\r\n            </Form.Row>\r\n\r\n            <Form.Group id=\"formGridAactive\">\r\n              <Form.Label>Estado</Form.Label>\r\n              <Form.Control name='status' as=\"select\" value={this.state.status} required onChange={this.onChange}>\r\n                <option value='0' disabled>Seleccione un estado...</option>\r\n                <option value='ACTIVO'>Activo</option>\r\n                <option value='INACTIVO'>Inactivo</option>\r\n              </Form.Control>\r\n            </Form.Group>\r\n\r\n            <Form.Group as={Col} controlId=\"formGridExtra\">\r\n              <Form.Label>Fotos</Form.Label>\r\n              <Form.Control type=\"file\" name=\"extra\" multiple required={!this.state.files ? true : false} onChange={this.handleSelectPhotos} />\r\n            </Form.Group>\r\n\r\n          </Col>\r\n          <Col lg={6}>\r\n            <Row>\r\n              {\r\n                this.state.files.map(file => (\r\n                  <Col lg={6} sm={6} className='mb-2'>\r\n                    <Card style={{ width: '150px' }}>\r\n                      <Card.Img className=\"img-thumbnail\" variant=\"top\" style={{ height: '150px', width: '150px' }} src={typeof (file) == 'string' ? file.photo : file.photo} />\r\n                      <span style={{ fontSize: '20px', color: '#f5222d' }} className='text-center' onClick={() => this.handleDeletePhoto(file)}>\r\n                        <i style={{ cursor: 'pointer' }} title='eliminar' className=\"fas fa-times\"></i>\r\n                      </span>\r\n                    </Card>\r\n                  </Col>\r\n                ))\r\n              }\r\n              {this.state.extra &&\r\n                this.state.extra.map(file => (\r\n                  <Col lg={6} sm={6} className='mb-2'>\r\n                    <Card style={{ width: '150px' }}>\r\n                      <Card.Img className=\"img-thumbnail\" variant=\"top\" style={{ height: '150px', width: '150px' }} src={typeof (file) == 'string' ? file : URL.createObjectURL(file)} />\r\n                      <span style={{ fontSize: '20px', color: '#f5222d' }} className='text-center' onClick={() => this.handleDeleteSelect(file)}>\r\n                        <i style={{ cursor: 'pointer' }} title='eliminar' className=\"fas fa-times\"></i>\r\n                      </span>\r\n                    </Card>\r\n                  </Col>\r\n                ))\r\n              }\r\n            </Row>\r\n          </Col>\r\n        </Row>\r\n        <Button variant=\"success\" type=\"submit\">\r\n          Actualizar Servicio\r\n        </Button>\r\n        <Button variant=\"secondary\" onClick={this.props.handleChangeModal}>\r\n          Cancelar\r\n      </Button>\r\n      </Form>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    updateProduct: (formData, id, handleChangeModal, extra) => dispatch(updateProduct(formData, id, handleChangeModal, extra)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FormUpdateService);\r\n","import React, { Component, Fragment } from 'react'\r\nimport { Button, Row, Col, Modal } from 'react-bootstrap'\r\nimport FormUpdateService from './FormUpdateService'\r\nimport { deleteProduct } from '../../store-manager/actions/ProductActions'\r\nimport { connect } from 'react-redux'\r\n\r\n\r\n\r\nexport class Service extends Component {\r\n\r\n  state = {\r\n    show: false\r\n  }\r\n\r\n  handleChangeModal = () => {\r\n    this.setState({ show: !this.state.show })\r\n  }\r\n\r\n  handleDelete = () => {\r\n    const formData = new FormData()\r\n    formData.append('name', this.props.service.name)\r\n    formData.append('price', this.props.service.price)\r\n    formData.append('description', this.props.service.description)\r\n    formData.append('duration', this.props.service.duration)\r\n    formData.append('status', this.props.service.status)\r\n    let option = window.confirm(`¿Esta seguro de eliminar el servicio '${this.props.service.name}' ?`)\r\n    if (option) {\r\n      this.props.service.deleted = true\r\n      formData.append('deleted', true)\r\n      this.props.deleteProduct(formData, this.props.service.id)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { name, price, duration } = this.props.service\r\n    return (\r\n      <Fragment>\r\n        <tr>\r\n          <td>{name}</td>\r\n          <td>$ {price}</td>\r\n          <td>{duration}</td>\r\n          <td>\r\n            <Row className='text-center'>\r\n              <Col>\r\n                <Button className='btn-block' variant=\"warning\" type=\"submit\" onClick={this.handleChangeModal}>\r\n                  Editar\r\n            </Button>\r\n              </Col>\r\n              <Col>\r\n                <Button className='btn-block' variant=\"danger\" type=\"button\" onClick={this.handleDelete}>\r\n                  Eliminar\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n          </td>\r\n        </tr>\r\n        <Modal show={this.state.show} size=\"lg\" onHide={this.handleChangeModal}>\r\n          <Modal.Header bg='success'  closeButton>\r\n            <Modal.Title>Editar Servicio</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <FormUpdateService service={this.props.service} handleChangeModal={this.handleChangeModal} />\r\n          </Modal.Body>\r\n        </Modal>\r\n      </Fragment>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    deleteProduct: (service, id) => dispatch(deleteProduct(service, id))\r\n  };\r\n};\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Service)","import React, { Component } from 'react'\r\nimport { Button, Card, Container, Table, Modal } from 'react-bootstrap';\r\nimport FormServices from './FormServices'\r\nimport Service from './Service'\r\nimport { fetchProducts } from '../../store-manager/actions/ProductActions'\r\nimport { connect } from 'react-redux';\r\n\r\nexport class Services extends Component {\r\n\r\n  state = {\r\n    show: false\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.fetchProducts()\r\n  }\r\n\r\n  toggleModal = () => {\r\n    this.setState({ show: !this.state.show })\r\n  }\r\n\r\n  render() {\r\n    const { services } = this.props;\r\n\r\n    return (\r\n      <Container className='mt-5'>\r\n        <Card border=\"primary\">\r\n          <Card.Header>Servicios</Card.Header>\r\n          <Card.Body>\r\n            <Card.Title> Gestion de servicios  </Card.Title>\r\n\r\n            <Button variant=\"success\" onClick={this.toggleModal}>\r\n              Crear Servicio\r\n            </Button>\r\n\r\n            <Modal size=\"lg\" show={this.state.show} onHide={this.toggleModal}>\r\n              <Modal.Header bg='success' closeButton>\r\n                <Modal.Title>Crear Servicio</Modal.Title>\r\n              </Modal.Header>\r\n              <Modal.Body>\r\n                <FormServices toggleModal={this.toggleModal} />\r\n              </Modal.Body>\r\n            </Modal>\r\n            <div className=\"table-responsive\">\r\n              <Table className='table mt-3' striped hover>\r\n                <thead className=\"bg-primary text-white\">\r\n                  <tr>\r\n                    <th>Servicio</th>\r\n                    <th>precio</th>\r\n                    <th>duracion</th>\r\n                    <th>acciones</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {services.map(service => (\r\n                    <Service key={service.id} position={service.id} service={service} />\r\n                  ))}\r\n                </tbody>\r\n              </Table>\r\n            </div>\r\n          </Card.Body>\r\n        </Card>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    'services': state.productReducer.products,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    fetchProducts: () => dispatch(fetchProducts())\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Services);","import React, { Component } from 'react'\r\nimport { Modal } from 'react-bootstrap';\r\nimport NumberFormat from 'react-number-format'\r\nimport ReactStars from 'react-stars'\r\nimport moment from 'moment';\r\nimport './CustomModal.css'\r\nimport 'moment/locale/es';\r\n\r\nexport class ModalInfoAppointment extends Component {\r\n  render() {\r\n    const { appointment, show_modal, onHide } = this.props;\r\n\r\n    return (\r\n      <Modal\r\n        show={show_modal}\r\n        onHide={() => { onHide() }}\r\n        dialogClassName=\"modal-appointment\"\r\n        id={\"schedule\"}\r\n      >\r\n        <Modal.Header closeButton className=\"no-slider\">\r\n          <Modal.Title>Datos de la Reserva</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          {appointment ?\r\n            <>\r\n              <div className=\"modal-appointment-main-product\">\r\n                <div className=\"flex-row-jst-btw\">\r\n                  <span className=\"title\">{`${appointment.user.first_name} ${appointment.user.last_name}`}</span>\r\n                  <ReactStars\r\n                    count={5}\r\n                    value={appointment.rating}\r\n                    //onChange={(value) => this.setState({ rating: value })}\r\n                    edit={false}\r\n                    size={30}\r\n                    color1={\"#e6e6e6\"}\r\n                  />\r\n                </div>\r\n                <div className=\"flex-row-jst-btw\">\r\n                  <p><strong>Correo Electrónico:</strong> {appointment.user.email}</p>\r\n                  <p><strong>Teléfono:</strong> {appointment.user.telephone}</p>\r\n                </div>\r\n                <div className=\"flex-row-jst-btw\">\r\n                  <p><strong>Fecha Programada:</strong> {moment(appointment.date).format('MMMM Do YYYY, h:mm:ss a')}</p>\r\n                  <p><strong>Estado:</strong> {appointment.status}</p>\r\n                </div>\r\n                {appointment.status === 'REALIZADA' ?\r\n                  <div className=\"flex-row-jst-btw\">\r\n                    <p><strong>Fecha Inicial:</strong> {moment(appointment.start_date).format('MMMM Do YYYY, h:mm:ss a')}</p>\r\n                    <p><strong>Fecha Final:</strong> {moment(appointment.end_date).format('MMMM Do YYYY, h:mm:ss a')}</p>\r\n                  </div> : null}\r\n\r\n                {appointment.notes && appointment.notes.trim() !== \"\"\r\n                  ? <><p><strong>Notas</strong></p>\r\n                    <p className=\"description\">\r\n                      {appointment.notes}\r\n                    </p> </>\r\n                  : null}\r\n\r\n                {appointment.status === 'REALIZADA' && typeof appointment.final_price !== \"undefined\" ?\r\n                  <p><strong>Precio Final</strong> <NumberFormat value={appointment.final_price} displayType={'text'} thousandSeparator={true} prefix={'$'} /></p>\r\n                  : null}\r\n              </div>\r\n\r\n              <div className=\"modal-appointment-product-list\">\r\n                <div className=\"title\">Servicios seleccionados</div>\r\n                <div className=\"products\">\r\n                  {appointment.product && appointment.product.length > 0 ?\r\n                    <>\r\n                      <div className=\"products-lists\">\r\n                        {appointment.product.map((product) => {\r\n                          return (<div key={product.id} className=\"flex-row-jst-btw product\">\r\n                            <div>{product.name}</div>\r\n                            <NumberFormat value={product.price} displayType={'text'} thousandSeparator={true} prefix={'$'} />\r\n                          </div>)\r\n                        })}\r\n\r\n                      </div>\r\n                      <div className=\"flex-row-jst-btw total\">\r\n                        <strong>Total</strong>\r\n                        <NumberFormat value={appointment.product.reduce((total, product) => total + product.price, 0)} displayType={'text'} thousandSeparator={true} prefix={'$'} />\r\n                      </div>\r\n                    </>\r\n                    :\r\n                    <div className=\"empty\">No tiene ningun servicio</div>\r\n                  }\r\n                </div>\r\n              </div>\r\n            </>\r\n            : null}\r\n        </Modal.Body>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ModalInfoAppointment\r\n","import React, { Component } from 'react'\r\nimport { Form, Col, Modal, Button } from 'react-bootstrap';\r\nimport NumberFormat from 'react-number-format'\r\nimport moment from 'moment';\r\nimport '../CustomModal.css'\r\nimport 'moment/locale/es';\r\nimport ReactStars from 'react-stars';\r\nimport { updateAppointment } from '../../store-manager/actions/AppointmentActions'\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nexport class ModalInfoAppointment extends Component {\r\n\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.formRef = React.createRef();\r\n    this.initial_state = {\r\n      form_validated: false,\r\n      rating: 0,\r\n      final_price: null\r\n    }\r\n    this.state = this.initial_state;\r\n  }\r\n\r\n  onChange = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value })\r\n  }\r\n\r\n  onClickMainBtn = () => {\r\n\r\n    try {\r\n      const form = this.formRef.current;\r\n      if (form.checkValidity() === true) {\r\n        const formData = new FormData();\r\n        formData.append('end_date', new Date().toISOString());\r\n        formData.append('status', 'REALIZADA');\r\n        formData.append('final_price', form.final_price.value);\r\n        formData.append('rating', this.state.rating);\r\n        this.props.updateAppointment(formData, this.props.appointment.id);\r\n        this.props.onHide();\r\n      }\r\n      this.setState({ form_validated: true });\r\n      return;\r\n    } catch (error) {\r\n      console.log(error);\r\n      return;\r\n    }\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    const { appointment, show_modal, onHide } = this.props;\r\n\r\n    return (\r\n      <Modal\r\n        show={show_modal}\r\n        onHide={() => { onHide() }}\r\n        dialogClassName=\"modal-appointment\"\r\n        id={\"schedule\"}\r\n      >\r\n        <Modal.Header closeButton className=\"no-slider\">\r\n          <Modal.Title>Finalizar Reserva</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          {appointment ?\r\n            <>\r\n              <div className=\"modal-appointment-form\">\r\n                <p className=\"title\">Datos de Reserva</p>\r\n                <Form ref={this.formRef} noValidate validated={this.state.form_validated} onSubmit={this.handleSubmit}>\r\n                  <Form.Row>\r\n                    <Form.Group as={Col} controlId=\"start_date\">\r\n                      <Form.Label>Fecha inicial</Form.Label>\r\n                      <p>{moment(appointment.start_date).format('MMMM Do YYYY, h:mm:ss a')}</p>\r\n                    </Form.Group>\r\n                    <Form.Group as={Col} controlId=\"start_date\">\r\n                      <Form.Label>Fecha final</Form.Label>\r\n                      <p>{moment(new Date()).format('MMMM Do YYYY, h:mm:ss a')}</p>\r\n                    </Form.Group>\r\n                  </Form.Row>\r\n\r\n                  <Form.Row>\r\n                    <Form.Group as={Col} controlId=\"first_name\">\r\n                      <Form.Label>Nombre</Form.Label>\r\n                      <Form.Control value={appointment.user.first_name} disabled={true} type=\"text\" name=\"first_name\" />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group as={Col} controlId=\"last_name\">\r\n                      <Form.Label>Apellido</Form.Label>\r\n                      <Form.Control value={appointment.user.last_name} disabled={true} type=\"text\" name=\"last_name\" />\r\n                    </Form.Group>\r\n                  </Form.Row>\r\n                  <Form.Row>\r\n                    <Form.Group as={Col} controlId=\"email\">\r\n                      <Form.Label>Correo Electrónico</Form.Label>\r\n                      <Form.Control value={appointment.user.email} disabled={true} type=\"email\" name=\"email\" />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group as={Col} controlId=\"telephone\">\r\n                      <Form.Label>Teléfono</Form.Label>\r\n                      <Form.Control value={appointment.user.telephone} disabled={true} type=\"text\" name=\"telephone\" />\r\n                    </Form.Group>\r\n                  </Form.Row>\r\n\r\n                  <Form.Group controlId=\"notes\">\r\n                    <Form.Label>Comentarios</Form.Label>\r\n                    <Form.Control as='textarea' value={appointment.notes} disabled={true} name=\"notes\" />\r\n                  </Form.Group>\r\n\r\n                  <Form.Row>\r\n                    <Form.Group as={Col} controlId=\"final_price\">\r\n                      <Form.Label>Precio final</Form.Label>\r\n                      <Form.Control onChange={this.onChange} defaultValue={appointment.estimated_price} type=\"text\" name=\"final_price\" />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group as={Col} controlId=\"rating\">\r\n                      <Form.Label>Calificación</Form.Label>\r\n                      <ReactStars\r\n                        count={5}\r\n                        value={this.state.rating}\r\n                        onChange={(value) => this.setState({ rating: value })}\r\n                        edit={true}\r\n                        size={30}\r\n                        color1={\"#e6e6e6\"}\r\n                      />\r\n                    </Form.Group>\r\n                  </Form.Row>\r\n\r\n                </Form>\r\n              </div>\r\n\r\n              <div className=\"modal-appointment-product-list\">\r\n                <div className=\"title\">Servicios seleccionados</div>\r\n                <div className=\"products\">\r\n                  {appointment.product && appointment.product.length > 0 ?\r\n                    <>\r\n                      <div className=\"products-lists\">\r\n                        {appointment.product.map((product) => {\r\n                          return (<div key={product.id} className=\"flex-row-jst-btw product\">\r\n                            <div>{product.name}</div>\r\n                            <NumberFormat value={product.price} displayType={'text'} thousandSeparator={true} prefix={'$'} />\r\n                          </div>)\r\n                        })}\r\n\r\n                      </div>\r\n                      <div className=\"flex-row-jst-btw total\">\r\n                        <strong>Total</strong>\r\n                        <NumberFormat value={appointment.product.reduce((total, product) => total + product.price, 0)} displayType={'text'} thousandSeparator={true} prefix={'$'} />\r\n                      </div>\r\n                    </>\r\n                    :\r\n                    <div className=\"empty\">No tiene ningun servicio</div>\r\n                  }\r\n                </div>\r\n              </div>\r\n            </>\r\n            : null}\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={() => { onHide() }}>\r\n            Atrás\r\n            </Button>\r\n          <Button variant=\"success\" onClick={this.onClickMainBtn}>\r\n            Finalizar\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    updateAppointment: (formData, id) => dispatch(updateAppointment(formData, id)),\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalInfoAppointment);\r\n","import React, { Component } from 'react'\r\nimport { Button, Card, Container, Table } from 'react-bootstrap';\r\nimport { fetchAppointments, startAppointment, denyAppointment } from '../../store-manager/actions/AppointmentActions'\r\nimport { connect } from 'react-redux';\r\nimport moment from 'moment';\r\nimport 'moment/locale/es';\r\nimport ModalInfoAppointment from '../ModalInfoAppointment'\r\nimport ModalEditAppointment from './ModalEditAppointment'\r\nimport NumberFormat from 'react-number-format'\r\n\r\nexport class Appointments extends Component {\r\n\r\n  state = {\r\n    search_value: '',\r\n    seleted_appointment: null,\r\n    show_modal: false,\r\n    show_modal_edit: false,\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.fetchAppointments()\r\n  }\r\n\r\n  showModal = (appointment) => {\r\n    this.setState({\r\n      show_modal: true,\r\n      seleted_appointment: appointment\r\n    })\r\n  }\r\n\r\n  hideModal = () => {\r\n    this.setState({\r\n      show_modal: false,\r\n      seleted_appointment: null\r\n    })\r\n  }\r\n\r\n  showModalEdit = (appointment) => {\r\n    this.setState({\r\n      show_modal_edit: true,\r\n      seleted_appointment: appointment\r\n    })\r\n  }\r\n\r\n  hideModalEdit = () => {\r\n    this.setState({\r\n      show_modal_edit: false,\r\n      seleted_appointment: null\r\n    })\r\n  }\r\n  render() {\r\n    const { appointments } = this.props;\r\n\r\n    return (\r\n      <Container className='mt-5'>\r\n        <ModalInfoAppointment appointment={this.state.seleted_appointment} show_modal={this.state.show_modal} onHide={this.hideModal} />\r\n        <ModalEditAppointment appointment={this.state.seleted_appointment} show_modal={this.state.show_modal_edit} onHide={this.hideModalEdit} />\r\n        <Card border=\"primary\">\r\n          <Card.Header>Reservas</Card.Header>\r\n          <Card.Body>\r\n            <Card.Title> Gestion de Reservas  </Card.Title>\r\n            <div className=\"table-responsive\">\r\n              <Table className=\"table mt-3\" striped hover>\r\n                <thead className=\"bg-primary text-white\">\r\n                  <tr>\r\n                    <th>Cliente</th>\r\n                    <th>Fecha</th>\r\n                    <th style={{\r\n                      width: '30px'\r\n                    }}>Cantidad Productos</th>\r\n                    <th>Estado</th>\r\n                    <th>Precio Estimado</th>\r\n                    <th></th>\r\n                    <th></th>\r\n                    <th></th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {appointments.map((item) => {\r\n                    return (\r\n                      <tr key={item.id}>\r\n                        <td>{`${item.user.first_name} ${item.user.last_name}`}</td>\r\n                        <td>{`${moment(item.date).fromNow()} - ${moment(item.date).format('MMMM Do YYYY, h:mm:ss a')}`}</td>\r\n                        <td><span className=\"numSpan\">{item.product.length}</span></td>\r\n                        <td>{item.status}</td>\r\n                        <td><NumberFormat value={item.estimated_price} displayType={'text'} thousandSeparator={true} prefix={'$'} /></td>\r\n                        <td>\r\n                          <Button variant=\"info\" onClick={() => {\r\n                            this.showModal(item);\r\n                          }}>Info</Button>\r\n                        </td>\r\n                        <td>\r\n                          {item.status === 'PENDIENTE' ?\r\n                            <Button variant=\"success\" onClick={() => {\r\n                              this.props.startAppointment(item);\r\n                            }}>Iniciar</Button>\r\n                            : <> {item.status === 'EN PROCESO' ? <Button variant=\"success\" onClick={() => {\r\n                              this.showModalEdit(item);\r\n                            }}>Finalizar</Button> : null} </>}\r\n                        </td>\r\n                        <td>\r\n                          {item.status === 'PENDIENTE' ? <Button disabled={!(item.status === 'PENDIENTE')} variant=\"danger\" onClick={() => {\r\n                            this.props.denyAppointment(item);\r\n                          }}>Rechazar</Button> : null}\r\n                        </td>\r\n                      </tr>\r\n                    );\r\n                  })}\r\n                </tbody>\r\n              </Table>\r\n            </div>\r\n          </Card.Body>\r\n        </Card>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    'appointments': state.appointmentReducer.appointments,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    fetchAppointments: () => dispatch(fetchAppointments()),\r\n    startAppointment: (appointment) => dispatch(startAppointment(appointment)),\r\n    denyAppointment: (appointment) => dispatch(denyAppointment(appointment)),\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Appointments);","/**\r\n * Componente responsable de generar la barra lateral de la aplicacion,\r\n * la cual permanecerá visible en  todas las vistas de la aplicacion.\r\n */\r\n\r\nimport React, { Component } from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Link,\r\n} from \"react-router-dom\";\r\n\r\nexport class Sidebar extends Component {\r\n  render() {\r\n    const { barber } = this.props;\r\n    return (\r\n      <div className=\"bg-primary\" id=\"sidebar-wrapper\">\r\n        <div className=\"sidebar-heading text-center mt-1 pro-img\">\r\n          <Link to='/'><img\r\n            alt=\"\"\r\n            src={barber.logo}\r\n            className=\"profile-pic imagen_cover img-thumbnail\"\r\n          />{' '}</Link>\r\n\r\n          <br />\r\n          <div className='text-white text-center'>\r\n            {barber.name}\r\n          </div>\r\n        </div>\r\n        <div className=\"list-group list-group-flush\">\r\n          <Link to='/' className=\"list-group-item list-group-item-action bg-primary text-white\">\r\n            <i className=\"fas fa-home\"></i>  Home\r\n          </Link>\r\n          <Link to='/admin/' className=\"list-group-item list-group-item-action bg-primary text-white\">\r\n            <i className=\"fas fa-chart-bar\"></i>  Reportes\r\n          </Link>\r\n          <Link to='/admin/users' className=\"list-group-item list-group-item-action bg-primary text-white\">\r\n            <i className=\"fas fa-users\"></i>  Usuarios\r\n          </Link>\r\n          <Link to='/admin/services' className=\"list-group-item list-group-item-action bg-primary text-white\">\r\n            <i className=\"fas fa-barcode\"></i>  Servicios\r\n          </Link>\r\n          <Link to='/admin/appointments' className=\"list-group-item list-group-item-action bg-primary text-white\">\r\n            <i className=\"fas fa-calendar\"></i>  Reservas\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    'barber': state.general.barber\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Sidebar);\r\n","import React, { Component } from 'react'\r\nimport { Chart, Series, CommonSeriesSettings, SeriesTemplate, Title, Label, Format, Legend, Export, Tooltip } from 'devextreme-react/chart'\r\nimport axios from 'axios'\r\nimport { getConfig } from '../../../config'\r\n\r\nexport class TopServices extends Component {\r\n  state = {\r\n    data: []\r\n  }\r\n\r\n  getData = () => {\r\n\r\n    let config = getConfig()\r\n    let apiURL = config.apiURL\r\n    let url = `${apiURL}/api/v1/reports/`\r\n\r\n    let formData = new FormData();\r\n    formData.append(\"report\", \"top-services\")\r\n    axios.post(url, formData, { headers: { 'content-type': 'multipart/form-data' } })\r\n      .then(async response => {\r\n        this.setState({ data: response.data })\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n      })\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getData();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Chart\r\n        id=\"chart-top-services\"\r\n        dataSource={this.state.data}>\r\n        <CommonSeriesSettings\r\n          argumentField=\"name\"\r\n          valueField=\"count\"\r\n          type=\"bar\"\r\n          ignoreEmptyPoints={true}\r\n        ><Label visible={true}>\r\n            <Format type=\"fixedPoint\" precision={0} />\r\n          </Label></CommonSeriesSettings>\r\n        <SeriesTemplate nameField=\"name\" />\r\n        <Title\r\n          text=\"Servicios más vendidos\"\r\n        />\r\n        <Legend visible={false} verticalAlignment=\"bottom\" horizontalAlignment=\"center\"></Legend>\r\n        <Export enabled={true} />\r\n        <Tooltip\r\n          enabled={true}\r\n          customizeTooltip={(pointInfo)=>{\r\n            return {\r\n              text: `${pointInfo.argumentText}<br/># ${pointInfo.valueText}`\r\n            }\r\n          }}\r\n        />\r\n      </Chart>\r\n    )\r\n  }\r\n}\r\n\r\nexport default TopServices\r\n","import React, { Component } from 'react'\r\nimport { Chart, Series, CommonSeriesSettings, SeriesTemplate, Title, Label, Format, Legend, Export, Tooltip } from 'devextreme-react/chart'\r\nimport axios from 'axios'\r\nimport { getConfig } from '../../../config'\r\n\r\nexport class TopClients extends Component {\r\n  state = {\r\n    data: []\r\n  }\r\n\r\n  getData = () => {\r\n\r\n    let config = getConfig()\r\n    let apiURL = config.apiURL\r\n    let url = `${apiURL}/api/v1/reports/`\r\n\r\n    let formData = new FormData();\r\n    formData.append(\"report\", \"top-clients\")\r\n    axios.post(url, formData, { headers: { 'content-type': 'multipart/form-data' } })\r\n      .then(async response => {\r\n        this.setState({ data: response.data })\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n      })\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getData();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Chart\r\n        id=\"chart-top-clients\"\r\n        dataSource={this.state.data}>\r\n        <CommonSeriesSettings\r\n          argumentField=\"name\"\r\n          valueField=\"count\"\r\n          type=\"bar\"\r\n          ignoreEmptyPoints={true}\r\n        ><Label visible={true}>\r\n            <Format type=\"fixedPoint\" precision={0} />\r\n          </Label></CommonSeriesSettings>\r\n        <SeriesTemplate nameField=\"name\" />\r\n        <Title\r\n          text=\"Clientes Recurrentes\"\r\n        />\r\n        <Legend  visible={false} verticalAlignment=\"bottom\" horizontalAlignment=\"center\"></Legend>\r\n        <Export enabled={true} />\r\n        <Tooltip\r\n          enabled={true}\r\n          customizeTooltip={(pointInfo)=>{\r\n            return {\r\n              text: `${pointInfo.argumentText}<br/># ${pointInfo.valueText}`\r\n            }\r\n          }}\r\n        />\r\n      </Chart>\r\n    )\r\n  }\r\n}\r\n\r\nexport default TopClients\r\n","import React, { Component } from 'react'\r\nimport { Chart, Series, CommonSeriesSettings, SeriesTemplate, Title, Label, Format, Legend, Export, Tooltip } from 'devextreme-react/chart'\r\nimport axios from 'axios'\r\nimport { getConfig } from '../../../config'\r\n\r\nexport class AppointmentsByMonth extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    let months = [\"Enero\", \"Febrero\", \"Marzo\", \"Abril\", \"Mayo\", \"Junio\", \"Julio\", \"Agosto\", \"Septiembre\", \"Octubre\", \"Noviembre\", \"Diciembre\"]\r\n    this.state = {\r\n      data: months.map((month, i) => {\r\n        return { month, value: 0, month_index: i }\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  getData = () => {\r\n    let config = getConfig()\r\n    let apiURL = config.apiURL\r\n    let url = `${apiURL}/api/v1/reports/`\r\n    let formData = new FormData();\r\n    formData.append(\"report\", \"appointments-by-month\")\r\n    axios.post(url, formData, { headers: { 'content-type': 'multipart/form-data' } })\r\n      .then(async response => {\r\n        let new_data = [...this.state.data];\r\n        for (let index = 0; index < response.data.length; index++) {\r\n          const element = response.data[index];\r\n          new_data[new Date(element.month).getUTCMonth()][\"value\"] = element.count;\r\n        }\r\n        this.setState({ data: new_data })\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n      })\r\n  }\r\n\r\n  componentDidMount() {\r\n    try {\r\n      this.getData();\r\n    } catch (error) {\r\n\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Chart\r\n        id=\"chart-appointments-by-month\"\r\n        dataSource={this.state.data}>\r\n        <CommonSeriesSettings\r\n          argumentField=\"month\"\r\n          valueField=\"value\"\r\n          type=\"area\"\r\n          ignoreEmptyPoints={true}\r\n        ><Label visible={true}>\r\n            <Format type=\"fixedPoint\" precision={0} />\r\n          </Label></CommonSeriesSettings>\r\n\r\n\r\n        <Series valueField=\"value\" name=\"month\" />\r\n        <Title\r\n          text=\"Meses con mas concurrencia\"\r\n          subtitle=\"Año presente\"\r\n        />\r\n        <Legend visible={false} verticalAlignment=\"bottom\" horizontalAlignment=\"center\"></Legend>\r\n        <Export enabled={true} />\r\n        <Tooltip\r\n          enabled={true}\r\n          customizeTooltip={(pointInfo) => {\r\n            return {\r\n              text: `${pointInfo.argumentText}<br/># ${pointInfo.valueText}`\r\n            }\r\n          }}\r\n        />\r\n      </Chart>\r\n    )\r\n  }\r\n}\r\n\r\nexport default AppointmentsByMonth\r\n","import React, { Component } from 'react'\r\nimport { Chart, Series, CommonSeriesSettings, SeriesTemplate, Title, Label, Format, Legend, Export, Tooltip, PieChart, Connector } from 'devextreme-react/pie-chart'\r\nimport axios from 'axios'\r\nimport { getConfig } from '../../../config'\r\nimport { numberWithCommas } from '../../../utils'\r\n\r\nexport class TopServices extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    let months = [\"Enero\", \"Febrero\", \"Marzo\", \"Abril\", \"Mayo\", \"Junio\", \"Julio\", \"Agosto\", \"Septiembre\", \"Octubre\", \"Noviembre\", \"Diciembre\"]\r\n    this.state = {\r\n      data: months.map((month, i) => {\r\n        return { month, value: 0, month_index: i }\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  getData = () => {\r\n    let config = getConfig()\r\n    let apiURL = config.apiURL\r\n    let url = `${apiURL}/api/v1/reports/`\r\n    let formData = new FormData();\r\n    formData.append(\"report\", \"sales-by-month\")\r\n    axios.post(url, formData, { headers: { 'content-type': 'multipart/form-data' } })\r\n      .then(async response => {\r\n        let new_data = [...this.state.data];\r\n        for (let index = 0; index < response.data.length; index++) {\r\n          const element = response.data[index];\r\n          new_data[new Date(element.month).getUTCMonth()][\"value\"] = element.value;\r\n        }\r\n        this.setState({ data: new_data })\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n      })\r\n  }\r\n\r\n  componentDidMount() {\r\n    try {\r\n      this.getData();\r\n    } catch (error) {\r\n\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <PieChart\r\n        id=\"pie\"\r\n        type=\"doughnut\"\r\n        dataSource={this.state.data}>\r\n        <Series argumentField=\"month\" valueField=\"value\">\r\n          <Label visible={true} customizeText={(pointInfo)=>{\r\n            return `$${numberWithCommas(pointInfo.originalValue)}`\r\n          }} >\r\n            <Connector visible={true} />\r\n          </Label>\r\n        </Series>\r\n        <Title\r\n          text=\"Ventas por Mes\"\r\n          subtitle=\"Año presente\"\r\n        />\r\n        <Legend\r\n          margin={0}\r\n          horizontalAlignment=\"right\"\r\n          verticalAlignment=\"top\"\r\n        />\r\n        <Export enabled={true} />\r\n        <Tooltip\r\n          enabled={true}\r\n          customizeTooltip={(pointInfo) => {\r\n            return {\r\n              text: `${pointInfo.argumentText}<br/>$${numberWithCommas(pointInfo.valueText)}`\r\n            }\r\n          }}\r\n        ></Tooltip>\r\n      </PieChart>\r\n    )\r\n  }\r\n}\r\n\r\nexport default TopServices\r\n","import React, { Component } from 'react'\r\nimport TopServices from './charts/TopServices';\r\nimport TopClients from './charts/TopClients';\r\nimport AppointmentsByMonth from './charts/AppointmentsByMonth';\r\nimport SalesByMonth from './charts/SalesByMonth';\r\nimport { Row, Col, Container, Card } from 'react-bootstrap';\r\n\r\n\r\nexport class Dashboard extends Component {\r\n  render() {\r\n    let charts = [\r\n      <TopServices />,\r\n      <TopClients />,\r\n      <AppointmentsByMonth />,\r\n      <SalesByMonth />\r\n    ]\r\n    return (\r\n      <div className=\"dashboard-container\">\r\n        <Row>\r\n          {charts.map((chart, i) => {\r\n            return (<Col key={\"chart-\" + i} md=\"4\" xs=\"12\" sm=\"6\" lg=\"4\" className=\"chart-container\">\r\n              <Card>\r\n                <Card.Body>\r\n                  {chart}\r\n                </Card.Body>\r\n              </Card>\r\n            </Col>);\r\n          })}\r\n        </Row>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Dashboard\r\n","import React, { Component } from 'react';\r\nimport Header from '../Header';\r\nimport {\r\n  Switch,\r\n  Route,\r\n} from \"react-router-dom\";\r\n\r\nimport Users from './Users';\r\nimport Services from './Services';\r\nimport Appointments from './Appointments';\r\nimport Sidebar from './Sidebar';\r\nimport Dashboard from './Dashboard'\r\n\r\nexport class index extends Component {\r\n  render() {\r\n    const { match } = this.props;\r\n    return (\r\n\r\n      <div>\r\n        <div className=\"d-flex\" id=\"wrapper\">\r\n          <Sidebar />\r\n          <div id=\"page-content-wrapper\">\r\n            <Header />\r\n            <Switch>\r\n              <Route path={`${match.path}/users`}>\r\n                <Users />\r\n              </Route>\r\n              <Route path={`${match.path}/services`}>\r\n                <Services />\r\n              </Route>\r\n              <Route path={`${match.path}/appointments`}>\r\n                <Appointments />\r\n              </Route>\r\n              <Route path={match.path}>\r\n                <Dashboard />\r\n              </Route>\r\n            </Switch>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default index;","import React, { Component } from 'react';\r\nimport Header from './Header';\r\nimport Footer from './Footer';\r\nimport { fetchMyAppointments } from '../store-manager/actions/AppointmentActions';\r\nimport { connect } from 'react-redux';\r\nimport { Table, Container, Form, Col, Row, Button } from 'react-bootstrap';\r\nimport moment from 'moment';\r\nimport 'moment/locale/es';\r\nimport ModalInfoAppointment from './ModalInfoAppointment'\r\nimport NumberFormat from 'react-number-format'\r\n\r\nmoment.locale('es');\r\nclass MyAppointments extends Component {\r\n  state = {\r\n    search_value: '',\r\n    seleted_appointment: null\r\n  }\r\n\r\n  onChangeSearch = (e) => {\r\n    this.setState({\r\n      search_value: e.target.value\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.fetchMyAppointments();\r\n  }\r\n\r\n  showModal = (appointment) => {\r\n    this.setState({\r\n      show_modal: true,\r\n      seleted_appointment: appointment\r\n    })\r\n  }\r\n\r\n  hideModal = () => {\r\n    this.setState({\r\n      show_modal: false,\r\n      seleted_appointment: null\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { my_appointments } = this.props;\r\n    let filtered_list = my_appointments;\r\n    if (this.state.search_value && this.state.search_value.trim() !== \"\") {\r\n      filtered_list = my_appointments.filter((item) => {\r\n        var jsonstr = `${item.user.first_name} ${item.user.last_name} ${item.date} ${item.estimated_price} ${item.status}`.toLocaleLowerCase();\r\n        var search = this.state.search_value.toLowerCase();\r\n        if (jsonstr.includes(search)) {\r\n          return true;\r\n        }\r\n        return false;\r\n      });\r\n    }\r\n\r\n\r\n    return (\r\n      <div>\r\n        <Header />\r\n        <ModalInfoAppointment appointment={this.state.seleted_appointment} show_modal={this.state.show_modal} onHide={this.hideModal} />\r\n        <Container className=\"my-appointments-container\">\r\n          <div className=\"flex-row-jst-btw\">\r\n            <h2>Mis Reservas</h2>\r\n            <Form>\r\n              <Form.Group as={Row} controlId=\"search\">\r\n                <Col sm=\"12\">\r\n                  <Form.Control value={this.state.search_value} onChange={this.onChangeSearch} placeholder=\"Buscar...\" />\r\n                </Col>\r\n              </Form.Group>\r\n            </Form>\r\n          </div>\r\n          <Table striped bordered hover size=\"sm\" className=\"my-appointments-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Cliente</th>\r\n                <th>Fecha</th>\r\n                <th style={{\r\n                  width: '30px'\r\n                }}>Cantidad Productos</th>\r\n                <th>Estado</th>\r\n                <th>Precio Estimado</th>\r\n                <th></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {filtered_list.map((item) => {\r\n                return (\r\n                  <tr key={item.id}>\r\n                    <td>{`${item.user.first_name} ${item.user.last_name}`}</td>\r\n                    <td>{`${moment(item.date).fromNow()} - ${moment(item.date).format('MMMM Do YYYY, h:mm:ss a')}`}</td>\r\n                    <td><span className=\"numSpan\">{item.product.length}</span></td>\r\n                    <td>{item.status}</td>\r\n                    <td><NumberFormat value={item.estimated_price} displayType={'text'} thousandSeparator={true} prefix={'$'} /></td>\r\n                    <td><Button variant=\"info\" onClick={()=>{\r\n                      this.showModal(item);\r\n                    }}>Info</Button></td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </Table>\r\n        </Container>\r\n        <Footer />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    'my_appointments': state.appointmentReducer.my_appointments,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    fetchMyAppointments: () => dispatch(fetchMyAppointments())\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MyAppointments);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { store } from '../index';\r\n\r\nexport const PrivateRoute = ({ component: Component, roles, ...rest }) => (\r\n    <Route {...rest} render={props => {\r\n        const current_store = store.getState().general;\r\n        const current_user = current_store.current_user;\r\n        if (!current_store.is_logged) {\r\n            // not logged in so redirect to login page with the return url\r\n            return <Redirect to='/login' />\r\n        }\r\n\r\n        // check if route is restricted by role\r\n        if (roles && roles.indexOf(current_user.role) === -1) {\r\n            // role not authorised so redirect to home page\r\n            return <Redirect to='/' />\r\n        }\r\n\r\n        // authorised so return component\r\n        return <Component {...props} />\r\n    }} />\r\n)","import Axios from \"axios\";\r\n\r\n\r\nexport function getToken() {\r\n    return (localStorage.getItem('currentToken') ? JSON.parse(localStorage.getItem('currentToken')).access : undefined);\r\n}\r\n\r\nexport function deleteToken() {\r\n    localStorage.removeItem('currentToken');\r\n    window.location = \"/\";\r\n}\r\n\r\n//Funcion que pasa el token en todas las solicitudes a la API\r\nexport function initAxiosInterceptors() {\r\n    Axios.interceptors.request.use(config => {\r\n        const token = getToken();\r\n\r\n        if (token) {\r\n            config.headers.Authorization = `Bearer ${token}`;\r\n        }\r\n\r\n        return config;\r\n    });\r\n\r\n    Axios.interceptors.response.use(\r\n        response => response,\r\n        error => {\r\n            if (error.response.status === 401) {\r\n                deleteToken();\r\n                window.location = \"/\";\r\n            } else {\r\n                return Promise.reject(error);\r\n            }\r\n        }\r\n    );\r\n}","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import { FETCH_USERS, CREATE_USER, UPDATE_USER, DELETE_USER } from '../actions/UserActions'\r\n\r\nconst initialState = {\r\n    users: []\r\n}\r\n\r\nconst userReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case FETCH_USERS:\r\n            return {\r\n                ...state,\r\n                users: action.payload.users\r\n            }\r\n\r\n        case CREATE_USER:\r\n            return {\r\n                ...state,\r\n                users: [action.payload.user, ...state.users]\r\n            }\r\n\r\n        case UPDATE_USER:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(user => user.id === action.payload.user.id ? (user = action.payload.user) : user),\r\n            }\r\n\r\n        case DELETE_USER:\r\n            return {\r\n                ...state,\r\n                users: state.users.filter(user => user.id !== action.payload.user.id)\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default userReducer","import { FETCH_PRODUCTS, CREATE_PRODUCT, UPDATE_PRODUCT, DELETE_PRODUCT } from '../actions/ProductActions'\r\n\r\nconst initialState = {\r\n    products: []\r\n}\r\n\r\nconst productReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case FETCH_PRODUCTS:\r\n            return {\r\n                ...state,\r\n                products: action.payload.products\r\n            }\r\n\r\n        case CREATE_PRODUCT:\r\n            return {\r\n                ...state,\r\n                products: [action.payload.product, ...state.products]\r\n            }\r\n\r\n        case UPDATE_PRODUCT:\r\n            return {\r\n                ...state,\r\n                products: state.products.map(product => product.id === action.payload.product.id ? (product = action.payload.product) : product),\r\n            }\r\n\r\n        case DELETE_PRODUCT:\r\n            return {\r\n                ...state,\r\n                products: state.products.filter(product => product.id !== action.payload.product.id)\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default productReducer\r\n","import { TOGGLE_MODAL, ADD_PRODUCT, REMOVE_PRODUCT, CLEAR_PRODUCTS, FETCH_MY_APPOINTMENTS, FETCH_APPOINTMENTS, UPDATE_APPOINTMENT } from '../actions/AppointmentActions'\r\n\r\nconst initialState = {\r\n  show_modal: false,\r\n  main_product: {},\r\n  products: [],\r\n  my_appointments: [],\r\n  appointments: []\r\n}\r\n\r\nconst appointmentReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n\r\n    case TOGGLE_MODAL:\r\n      return {\r\n        ...state,\r\n        show_modal: action.show,\r\n        main_product: action.product\r\n      }\r\n\r\n    case ADD_PRODUCT:\r\n      let newindex = state.products.findIndex((item) => item.id === action.product.id)\r\n      if (newindex === -1) {\r\n        return {\r\n          ...state,\r\n          products: [...state.products, action.product]\r\n        }\r\n      }\r\n\r\n      return state;\r\n\r\n    case REMOVE_PRODUCT:\r\n      let newProducts = [...state.products];\r\n      let index = newProducts.findIndex((item) => item.id === action.product.id)\r\n      if (index !== -1) {\r\n        newProducts.splice(index, 1)\r\n      }\r\n      return {\r\n        ...state,\r\n        products: newProducts\r\n      }\r\n\r\n    case CLEAR_PRODUCTS:\r\n      return {\r\n        ...state,\r\n        products: []\r\n      }\r\n\r\n    case FETCH_MY_APPOINTMENTS:\r\n      return {\r\n        ...state,\r\n        my_appointments: action.my_appointments\r\n      }\r\n\r\n\r\n    case FETCH_APPOINTMENTS:\r\n      return {\r\n        ...state,\r\n        appointments: action.appointments\r\n      }\r\n\r\n    case UPDATE_APPOINTMENT:\r\n      return {\r\n        ...state,\r\n        appointments: state.appointments.map(item => item.id === action.appointment.id ? (item = action.appointment) : item),\r\n      }\r\n\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default appointmentReducer\r\n","import { combineReducers } from 'redux';\r\nimport { SET_LOGIN } from './actions';\r\nimport userReducer from './reducers/UserReducer'\r\nimport productReducer from './reducers/ProductReducer'\r\nimport appointmentReducer from './reducers/AppointmentReducer'\r\n\r\nimport { getUserInfoFromJWT } from '../utils';\r\n\r\nconst ReducerGeneral = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case SET_LOGIN:\r\n      if (action.token) {\r\n        try {\r\n          let user = getUserInfoFromJWT(action.token);\r\n          return { ...state, is_logged: true, current_user: user };\r\n        } catch (error) {\r\n          return { ...state, is_logged: false, current_user: {} };\r\n        }\r\n      } else {\r\n        localStorage.removeItem('currentToken');\r\n        return { ...state, is_logged: false, current_user: {} };\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst reducers = combineReducers({\r\n  'general': ReducerGeneral,\r\n  'userReducer': userReducer,\r\n  'productReducer': productReducer,\r\n  'appointmentReducer': appointmentReducer,\r\n});\r\n\r\nexport default reducers;","import 'bootstrap/dist/css/bootstrap.min.css';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport { applyMiddleware, createStore } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport { CREATE_PRODUCT, UPDATE_PRODUCT } from './store-manager/actions/ProductActions'\r\nimport axios from 'axios'\r\nimport { getConfig } from \"./config\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport App from './components/App';\r\nimport * as serviceWorker from './serviceWorker';\r\n//TODO: Borrar cuando se conecte al backend\r\nimport reducers from './store-manager/reducers';\r\nimport { getUserInfoFromJWT } from './utils';\r\n\r\nlet config = getConfig()\r\nlet apiURL = config.apiURL\r\n\r\nlet current_token, current_user;\r\ntry {\r\n  current_token = JSON.parse(localStorage.getItem('currentToken'));\r\n  current_user = getUserInfoFromJWT(current_token)\r\n} catch (error) {\r\n  current_token = {}\r\n  current_user = {}\r\n}\r\n\r\n\r\nconst generalState = {\r\n  current_user: current_user,\r\n  is_logged: (current_user && current_user.token ? true : false),\r\n\r\n  barber: {\r\n    name: 'BarberShop',\r\n    logo: `${config.staticURL}/media/logo.jpg`\r\n  },\r\n\r\n};\r\n\r\n\r\nconst createImage = store => next => action => {\r\n  switch (action.type) {\r\n\r\n    case CREATE_PRODUCT:\r\n      let url = `${apiURL}/api/v1/product_photo/`\r\n      const photos = action.payload.photos\r\n      const photos_save = []\r\n\r\n      photos.map(function (photo) {\r\n        const formData = new FormData()\r\n        formData.append('product', action.payload.product.id);\r\n        formData.append('photo', photo)\r\n        return axios.post(url, formData)\r\n          .then(response => {\r\n            photos_save.push(response.data)\r\n          })\r\n          .catch(error => {\r\n            console.log(error)\r\n          })\r\n      })\r\n      action.payload.product.photos = photos_save\r\n      return next(action);\r\n\r\n\r\n    case UPDATE_PRODUCT:\r\n\r\n      const extras = action.payload.extra\r\n      const extras_save = action.payload.product.photos\r\n\r\n      if (extras) {\r\n        let url_ = `${apiURL}/api/v1/product_photo/`\r\n        extras.map(function (photo) {\r\n          const formData = new FormData()\r\n          formData.append('product', action.payload.product.id);\r\n          formData.append('photo', photo)\r\n          return axios.post(url_, formData)\r\n            .then(response => {\r\n              extras_save.push(response.data)\r\n            })\r\n            .catch(error => {\r\n              console.log(error)\r\n            })\r\n        })\r\n        action.payload.product.photos = extras_save\r\n        return next(action);\r\n      }\r\n      break\r\n\r\n    default:\r\n      next(action);\r\n  }\r\n}\r\n\r\nconst initialState = {\r\n  general: generalState\r\n}\r\n\r\nexport const store = createStore(\r\n  reducers,\r\n  initialState,\r\n  composeWithDevTools(\r\n    applyMiddleware(thunkMiddleware, createImage)\r\n  )\r\n);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n    <ToastContainer position={toast.POSITION.BOTTOM_RIGHT} />\r\n  </Provider>, document.getElementById('root'));\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","import React from 'react'\r\nimport '../static/css/Style.css'\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport Homepage from \"./Homepage\";\r\nimport Login from \"./Login\";\r\nimport Admin from \"./admin\";\r\nimport MyAppointments from './MyAppointments';\r\nimport { initAxiosInterceptors } from '../store-manager/helper'\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n} from \"react-router-dom\";\r\n\r\nimport { PrivateRoute } from './PrivateRoute';\r\n\r\ninitAxiosInterceptors()\r\n\r\nexport default function App() {\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <PrivateRoute path=\"/admin\" roles={['ADMIN', 'Admin']} component={Admin} />\r\n        <PrivateRoute path=\"/appointments\" component={MyAppointments} />\r\n        <Route path=\"/login\">\r\n          <Login />\r\n        </Route>\r\n        <Route path=\"/\">\r\n          <Homepage />\r\n        </Route>\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n"],"sourceRoot":""}